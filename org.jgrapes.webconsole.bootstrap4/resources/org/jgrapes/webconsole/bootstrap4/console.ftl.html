<!doctype html>

<html lang="${locale.toLanguageTag()}">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Portal -->
<link rel="icon" href="${renderSupport.consoleResource('favicon.ico')}">
<title>${_("consoleTitle")}</title>

<!-- CSS -->
<!-- Bootstrap 4 -->
<link rel="stylesheet"
  href="${renderSupport.consoleResource('lib/bootstrap-4.1.2/css/bootstrap' + minifiedExtension + '.css')}">
<!-- Gridstack -->
<link rel="stylesheet"
  href="${renderSupport.pageResource('gridstack/gridstack' + minifiedExtension + '.css')}" />
<!-- Portal -->
<link rel="stylesheet"
  href="${renderSupport.pageResource('fontawesome-free/css/all' + minifiedExtension + '.css')}" />
<link rel="stylesheet"
  href="${renderSupport.consoleBaseResource('console' + minifiedExtension + '.css')}" />
<link rel="stylesheet"
  href="${renderSupport.consoleResource('console' + minifiedExtension + '.css')}" />
<!-- More... -->

<!-- Scripts(s) -->
<!-- JQuery etc. -->
<script data-jgp-provides="jquery"
  src="${renderSupport.pageResource('jquery/jquery' + minifiedExtension + '.js')}"></script>
<script data-jgp-provides="moment, moment-with-locales"
  src="${renderSupport.pageResource('moment/moment-with-locales' + minifiedExtension + '.js')}"></script>
<script
  src="${renderSupport.consoleResource('lib/popper-1.14.3/popper' + minifiedExtension + '.js')}"></script>
<!-- Bootstrap 4 -->
<script
  src="${renderSupport.consoleResource('lib/bootstrap-4.1.2/js/bootstrap' + minifiedExtension + '.js')}"></script>
<!-- Gridstack and prerequisites Lodash and JQueryUI () -->
<script data-jgp-provides="lodash"
  src="${renderSupport.pageResource('lodash/lodash' + minifiedExtension + '.js')}"></script>
<script data-jgp-provides="jquery-ui"
  src="${renderSupport.pageResource('jquery-ui/jquery-ui' + minifiedExtension + '.js')}"></script>
<script data-jgp-provides="gridstack"
  src="${renderSupport.pageResource('gridstack/gridstack.js')}"></script>
<script data-jgp-provides="gridstack.jQueryUI"
  src="${renderSupport.pageResource('gridstack/gridstack.jQueryUI.js')}"></script>
<script data-jgp-provides="jquery-ui.touch-punch"
  src="${renderSupport.pageResource('jquery-ui-touch-punch/jquery.ui.touch-punch' + minifiedExtension + '.js')}"></script>
<!-- More... -->

<!-- Portal -->
  <script type="module">
  import JGConsole from "${renderSupport.consoleBaseResource('jgconsole.js')}"
  import B4UIPortal from "${renderSupport.consoleResource('b4uiconsole.js')}"
  JGConsole.init("${consoleSessionId}", 
    parseInt("${consoleSessionRefreshInterval?c}"),
    parseInt("${consoleSessionInactivityTimeout?c}"), new B4UIPortal.Renderer({
      ok: '${_("OK")}',
      close: '${_("Close")}',
      sessionSuspendedTitle: '${_("Portal Session Suspended")}',
      sessionSuspendedMessage: '${_("consoleSessionSuspendedMessage")}',
      serverConnectionLost: '${_("serverConnectionLostMessage")}',
      serverConnectionRestored: '${_("serverConnectionRestoredMessage")}',
    }));
  </script>

</head>

<body id="page-top" class="index console-bootstrap4">

  <#include "console-header.ftl.html">

  <main class="m-2" role="main">

  <ul class="nav nav-tabs" id="consoleTabs" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" id="consoleOverviewTab"
        data-toggle="tab" href="#consoleOverviewPane" role="tab"
        aria-controls="home" aria-selected="true">${_("Overview")}</a>
    </li>
  </ul>

  <div class="tab-content mt-3" id="consoleTabPanes">
    <section class="tab-pane fade show active" id="consoleOverviewPane"
      role="tabpanel" aria-labelledby="consoleOverviewTab">
      <div class="grid-stack" id="consolePreviews" role="grid"></div>
    </section>
  </div>

  </main>

  <!-- Footer -->
  <#include "console-footer.ftl.html">

  <!-- Notification area -->
  <div id="notification-area">
  </div>

  <!-- Loader -->
  <div id="loader-overlay">
    <div></div>
  </div> 
 
</body>
</html>