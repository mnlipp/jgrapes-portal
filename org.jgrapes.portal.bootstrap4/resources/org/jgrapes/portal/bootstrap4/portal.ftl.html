<!doctype html>

<html lang="${locale.toLanguageTag()}">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Portal -->
<link rel="icon" href="${renderSupport.portalResource('favicon.ico')}">
<title>${_("portalTitle")}</title>

<!-- CSS -->
<!-- Bootstrap 4 -->
<link rel="stylesheet"
  href="${renderSupport.portalResource('lib/bootstrap-4.1.2/css/bootstrap' + minifiedExtension + '.css')}">
<!-- Gridstack -->
<link rel="stylesheet"
  href="${renderSupport.pageResource('gridstack/gridstack' + minifiedExtension + '.css')}" />
<!-- Portal -->
<link rel="stylesheet"
  href="${renderSupport.pageResource('fontawesome-free/css/all' + minifiedExtension + '.css')}" />
<link rel="stylesheet"
  href="${renderSupport.portalBaseResource('portal' + minifiedExtension + '.css')}" />
<link rel="stylesheet"
  href="${renderSupport.portalResource('portal' + minifiedExtension + '.css')}" />
<!-- More... -->

<!-- Scripts(s) -->
<!-- JQuery etc. -->
<script
  src="${renderSupport.pageResource('jquery/jquery' + minifiedExtension + '.js')}"></script>
<script
  src="${renderSupport.pageResource('moment/moment-with-locales' + minifiedExtension + '.js')}"></script>
<script
  src="${renderSupport.portalResource('lib/popper-1.14.3/popper' + minifiedExtension + '.js')}"></script>
<!-- Bootstrap 4 -->
<script
  src="${renderSupport.portalResource('lib/bootstrap-4.1.2/js/bootstrap' + minifiedExtension + '.js')}"></script>
<!-- Gridstack and prerequisite JQueryUI () -->
<script
  src="${renderSupport.pageResource('lodash/lodash' + minifiedExtension + '.js')}"></script>
<script
  src="${renderSupport.pageResource('jquery-ui/jquery-ui' + minifiedExtension + '.js')}"></script>
<script
  src="${renderSupport.portalResource('lib/jquery.ui.touch-punch-0.2.3' + minifiedExtension + '.js')}"></script>
<script
  src="${renderSupport.pageResource('gridstack/gridstack.js')}"></script>
<script
  src="${renderSupport.pageResource('gridstack/gridstack.jQueryUI.js')}"></script>
<!-- More... -->

<!-- Portal -->
  <script type="module">
  import JGPortal from "${renderSupport.portalBaseResource('jgportal.js')}"
  import B4UIPortal from "${renderSupport.portalResource('b4uiportal.js')}"
  JGPortal.init(["jquery", "moment", "moment-with-locales", 
    "lodash", "jquery-ui", "gridstack", "gridstack.jQueryUI"],
    "${portalSessionId}", parseInt("${portalSessionRefreshInterval?c}"),
    parseInt("${portalSessionInactivityTimeout?c}"), new B4UIPortal.Renderer({
      ok: '${_("OK")}',
      close: '${_("Close")}',
      sessionSuspendedTitle: '${_("Portal Session Suspended")}',
      sessionSuspendedMessage: '${_("portalSessionSuspendedMessage")}',
      serverConnectionLost: '${_("serverConnectionLostMessage")}',
      serverConnectionRestored: '${_("serverConnectionRestoredMessage")}',
    }));
  </script>

</head>

<body id="page-top" class="index portal-bootstrap4">

  <#include "portal-header.ftl.html">

  <main class="m-2" role="main">

  <ul class="nav nav-tabs" id="portalTabs" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" id="portalOverviewTab"
        data-toggle="tab" href="#portalOverviewPane" role="tab"
        aria-controls="home" aria-selected="true">${_("Overview")}</a>
    </li>
  </ul>

  <div class="tab-content mt-3" id="portalTabPanes">
    <section class="tab-pane fade show active" id="portalOverviewPane"
      role="tabpanel" aria-labelledby="portalOverviewTab">
      <div class="grid-stack" id="portalPreviews" role="grid"></div>
    </section>
  </div>

  </main>

  <!-- Footer -->
  <#include "portal-footer.ftl.html">

  <!-- Notification area -->
  <div id="notification-area">
  </div>

  <!-- Loader -->
  <div id="loader-overlay">
    <div></div>
  </div> 
 
</body>
</html>