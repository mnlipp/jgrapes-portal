(function(e){"function"===typeof define&&define.amd?define(["jquery"],e):"object"===typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)})(function(e){function p(){f=!1}function q(){g&&(window.clearTimeout(r),g=!1,k=null)}function t(a){g||(g=!0,k=a.changedTouches[0],r=window.setTimeout(u,800))}function u(){g=!1;var a=k,b=document.createEvent("MouseEvent");b.initMouseEvent("mouseup",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(b);
b=document.createEvent("MouseEvent");b.initMouseEvent("mousedown",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,2,null);a.target.dispatchEvent(b);b=document.createEvent("MouseEvent");b.initMouseEvent("contextmenu",!0,!0,window,1,a.screenX+50,a.screenY+5,a.clientX+50,a.clientY+5,!1,!1,!1,!1,2,null);a.target.dispatchEvent(b);m=!0;k=null}function l(a){if(!(1<a.touches.length)){switch(a.type){case "touchstart":if(e(a.changedTouches[0].target).is("select"))return;var b=a.changedTouches[0];
var c="mouseover",d=document.createEvent("MouseEvent");d.initMouseEvent(c,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(d);c="mousedown";d=document.createEvent("MouseEvent");d.initMouseEvent(c,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(d);f?(window.clearTimeout(n),b.target==h?(h=null,f=!1,c="click",d=document.createEvent("MouseEvent"),d.initMouseEvent(c,!0,!0,window,1,b.screenX,b.screenY,b.clientX,
b.clientY,!1,!1,!1,!1,0,null),b.target.dispatchEvent(d),c="dblclick",d=document.createEvent("MouseEvent"),d.initMouseEvent(c,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null),b.target.dispatchEvent(d)):(h=b.target,f=!0,n=window.setTimeout(p,600),t(a))):(h=b.target,f=!0,n=window.setTimeout(p,600),t(a));a.preventDefault();return!1;case "touchmove":q();b="mousemove";a.preventDefault();break;case "touchend":if(m)return m=!1,a.preventDefault(),!1;q();b="mouseup";break;default:return}a=
a.changedTouches[0];c=document.createEvent("MouseEvent");c.initMouseEvent(b,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(c);"mouseup"==b&&f&&a.target==h&&(c=document.createEvent("MouseEvent"),c.initMouseEvent("click",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(c))}}var h=null,f=!1,n=null,g=!1,k=null,r=null,m=!1,v="ontouchend"in document;e.fn.addTouch=function(){v&&this.each(function(a,b){b.addEventListener("touchstart",
l,!1);b.addEventListener("touchmove",l,!1);b.addEventListener("touchend",l,!1);b.addEventListener("touchcancel",l,!1)})}});
