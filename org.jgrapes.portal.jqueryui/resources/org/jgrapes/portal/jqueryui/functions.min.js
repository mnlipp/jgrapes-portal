var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(b){var a=function(){};a.prototype=b;return new a};$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0},a={};try{return a.__proto__=b,a.a}catch(c){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(b,a){b.__proto__=a;if(b.__proto__!==a)throw new TypeError(b+" is not extensible");return b}:null;
$jscomp.inherits=function(b,a){b.prototype=$jscomp.objectCreate(a.prototype);b.prototype.constructor=b;if($jscomp.setPrototypeOf){var c=$jscomp.setPrototypeOf;c(b,a)}else for(c in a)if("prototype"!=c)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(a,c);e&&Object.defineProperty(b,c,e)}else b[c]=a[c];b.superClass_=a.prototype};
$jscomp.findInternal=function(b,a,c){b instanceof String&&(b=String(b));for(var e=b.length,d=0;d<e;d++){var f=b[d];if(a.call(c,f,d,b))return{i:d,v:f}}return{i:-1,v:void 0}};$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){b!=Array.prototype&&b!=Object.prototype&&(b[a]=c.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,a,c,e){if(a){c=$jscomp.global;b=b.split(".");for(e=0;e<b.length-1;e++){var d=b[e];d in c||(c[d]={});c=c[d]}b=b[b.length-1];e=c[b];a=a(e);a!=e&&null!=a&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");$jscomp.polyfill("Object.is",function(b){return b?b:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(a,c){var b=this;b instanceof String&&(b=String(b));var d=b.length;for(c=c||0;c<d;c++)if(b[c]==a||Object.is(b[c],a))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(b,a,c){if(null==b)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return b+""};$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6","es3");var JQUIPortal={};
(function(){var b=JGPortal.log;JQUIPortal.Renderer=function(){var a=JGPortal.Renderer.call(this)||this;a._connectionLostNotification=null;a._lastPreviewLayout=[];a._lastTabsLayout=[];a._lastXtraInfo={};a._tabTemplate="<li><a href='@{href}'>@{label}</a> <span class='ui-icon ui-icon-close' role='presentation'>Remove Tab</span></li>";a._tabCounter=1;return a};$jscomp.inherits(JQUIPortal.Renderer,JGPortal.Renderer);JQUIPortal.Renderer.prototype.init=function(){var a=this;b.debug("Locking screen");$("body").faLoading({icon:"fa-circle-o-notch",
spin:!0,text:!1});$("#theme-menu").on("click","[data-theme-id]",function(){JGPortal.sendSetTheme($(this).data("theme-id"));$("#theme-menu").jqDropdown("hide")});$("#language-menu").on("click","[data-locale]",function(){JGPortal.sendSetLocale($(this).data("locale"));$("#theme-menu").jqDropdown("hide")});$("#addon-menu").on("click","[data-portlet-type]",function(){a.sendAddPortlet($(this).data("portlet-type"));$("#theme-menu").jqDropdown("hide")});$("#portlet-tabs").tabs();var c=$("#portlet-tabs").tabs();
c.on("click","span.ui-icon-close",function(){var b=$(this).closest("li").remove().attr("aria-controls");$("#"+b).remove();c.tabs("refresh");a._layoutChanged()});$("#portal-session-suspended-dialog").dialog({autoOpen:!1,modal:!0});$(".preview-area").sortable({handle:".portlet-header",cancel:".portlet-toggle",placeholder:"portlet-placeholder ui-corner-all",stop:function(c,b){a._layoutChanged()}})};JQUIPortal.Renderer.prototype.connectionLost=function(){null==this._connectionLostNotification?this._connectionLostNotification=
$("#server-connection-lost-notification").notification({error:!0,icon:"alert",destroyOnClose:!1}):this._connectionLostNotification.notification("open")};JQUIPortal.Renderer.prototype.connectionRestored=function(){null!=this._connectionLostNotification&&this._connectionLostNotification.notification("close");$("#server-connection-restored-notification").notification({autoClose:2E3})};JQUIPortal.Renderer.prototype.connectionSuspended=function(a){$("#portal-session-suspended-dialog").dialog("option",
"buttons",{Ok:function(){$(this).dialog("close");a()}});$("#portal-session-suspended-dialog").dialog("open")};JQUIPortal.Renderer.prototype.portalConfigured=function(){this._layoutChanged();b.debug("Unlocking screen");$("body").faLoading("remove")};JQUIPortal.Renderer.prototype.addPortletType=function(a,c,b){a=$('<li class="ui-menu-item"><div class="ui-menu-item-wrapper" data-portlet-type="'+a+'">'+c+"</div></li>");$("#addon-menu-list").append(a)};JQUIPortal.Renderer.prototype.lastPortalLayout=function(a,
c,b){this._lastPreviewLayout=a;this._lastTabsLayout=c;this._lastXtraInfo=b};JQUIPortal.Renderer.prototype.updatePortletPreview=function(a,c,b,d,f){var e=this;if(a){c.addClass("ui-widget ui-widget-content ui-helper-clearfix ui-corner-all");c.append('<div class="portlet-header ui-widget-header"><span class="portlet-header-text"></span></div><div class="portlet-content ui-widget-content"></div>');c.find(".portlet-header").addClass("ui-widget-header ui-corner-all");this._setModeIcons(c,b);a=$(".preview-area");
var g=!1,h=c.attr("data-portlet-id");e._isBefore(e._lastPreviewLayout,h,h)&&(a.find(".portlet").each(function(a){a=$(this);var c=a.attr("data-portlet-id");if(!e._isBefore(e._lastPreviewLayout,c,h))return a.before(portlet),g=!0,!1}),g||a.append(c),g=!0);g||a.first().prepend(c);this._layoutChanged()}d=$(d);c.find(".portlet-header-text").text(d.attr("data-portlet-title"));c=c.find(".portlet-content");c.children().detach();c.append(d);f&&$("#portlet-tabs").tabs("option","active",0)};JQUIPortal.Renderer.prototype._isBefore=
function(a,c,b){for(var d=0;d<a.length;d++){if(a[d]===c)return!0;if(a[d]===b)break}return!1};JQUIPortal.Renderer.prototype._setModeIcons=function(a,c){var b=this;a=a.find(".portlet-header");a.find(".ui-icon").remove();c.includes("Edit")&&(a.prepend("<span class='ui-icon ui-icon-wrench portlet-edit'></span>"),a.find(".portlet-edit").on("click",function(){var a=$(this).closest(".portlet").attr("data-portlet-id");b.sendRenderPortlet(a,"Edit",!0)}));c.includes("DeleteablePreview")&&(a.prepend("<span class='ui-icon ui-icon-delete portlet-delete'></span>"),
a.find(".portlet-delete").on("click",function(){var a=$(this).closest(".portlet").attr("data-portlet-id");b.sendDeletePortlet(a)}));c.includes("View")&&(a.prepend("<span class='ui-icon ui-icon-fullscreen portlet-expand'></span>"),a.find(".portlet-expand").on("click",function(){var a=$(this).closest(".portlet").attr("data-portlet-id"),c=b.findPortletView(a);c?b._activatePortletView(c):b.sendRenderPortlet(a,"View",!0)}))};JQUIPortal.Renderer.prototype._activatePortletView=function(a){var c=$("#portlet-tabs").tabs();
(a=a.index())&&c.tabs("option","active",a-1)};JQUIPortal.Renderer.prototype.updatePortletView=function(a,c,b,d,f){b=$(d);if(a){a=$("#portlet-tabs").tabs();this._tabCounter+=1;d="portlet-tabs-"+this._tabCounter;var e=$(this._tabTemplate.replace(/@\{href\}/g,"#"+d).replace(/@\{label\}/g,b.attr("data-portlet-title")));a.find(".ui-tabs-nav").append(e);c.attr("id",d);c.append(b);a.append(c);a.tabs("refresh");this._layoutChanged()}else c.children().detach(),c.append(b);f&&this._activatePortletView(c)};
JQUIPortal.Renderer.prototype.portletRemoved=function(a){a.forEach(function(a){a=$(a);if(a.hasClass("portlet-view")){var c=a.closest(".ui-tabs-panel").remove().attr("id");$("#portlet-tabs").tabs().find("li[aria-controls='"+c+"']").remove();$("#portlet-tabs").tabs().tabs("refresh")}a.hasClass("portlet-preview")&&a.remove()});this._layoutChanged()};JQUIPortal.Renderer.prototype.notification=function(a,c){$(a).notification(c)};JQUIPortal.Renderer.prototype._layoutChanged=function(){var a=[];$(".overview-panel").find(".preview-area").find("div.portlet[data-portlet-id]").each(function(){a.push($(this).attr("data-portlet-id"))});
var c=[],b=$("#portlet-tabs").tabs();b.find(".ui-tabs-nav .ui-tabs-tab").each(function(a){0<a&&(a=$(this).attr("aria-controls"),a=b.find("#"+a).attr("data-portlet-id"),c.push(a))});this.sendLayout(a,c,{})};JQUIPortal.Renderer.prototype.updatePortletViewTitle=function(a,c){var b=$("#portlet-tabs").tabs();a=b.find("> div[data-portlet-id='"+a+"']");0!==a.length&&(a.find("[data-portlet-title]").attr("data-portlet-title",c),a=a.attr("id"),b=b.find("a[href='#"+a+"']"),b.empty(),b.append(c))};JQUIPortal.Renderer.prototype.updatePortletModes=
function(a,c){(a=this.findPortletPreview(a))&&this._setModeIcons(a,c)};JQUIPortal.Renderer.prototype.showEditDialog=function(a,c,b){var d=$(b);a.append(d);a.dialog({modal:!0,width:"auto",close:function(c,b){d.trigger("JGrapes.dialogClosed",[a])}})}})();
(function(){JQUIPortal.tooltip=function(b){b.tooltip({items:"[data-tooltip-id], [title]",content:function(){var a=$(this);if(a.is("[data-tooltip-id]")){a=a.attr("data-tooltip-id");var c=$("#"+a);return c?(c=c.clone(!0),c.removeClass("jgrapes-tooltip-prototype"),c):"<#"+a+">"}if(a.is("[title]"))return a.attr("title")}})}})();
(function(){var b=null,a=0;$(function(){var a=$("<div></div>");b=$("<div class='ui-notification-container ui-front'></div>");a.append(b);$("body").prepend(a)});$.widget("ui.notification",{options:{classes:{"ui-notification":"ui-corner-all ui-widget-shadow","ui-notification-content":"ui-corner-all"},error:!1,icon:"circle-info",autoOpen:!0,autoClose:null,destroyOnClose:null,show:{effect:"blind",direction:"up",duration:"fast"},hide:{effect:"blind",direction:"up",duration:"fast"}},_create:function(){var c=
this;this._isOpen=!1;null===this.options.destroyOnClose&&(this.options.destroyOnClose=this.options.autoOpen);var b=$("<div></div>"),d="ui-notification-"+ ++a;b.attr("id",d);this._addClass(b,"ui-notification");b.addClass("ui-widget-content");b.addClass("ui-widget");this.options.error?b.addClass("ui-state-error"):b.addClass("ui-state-highlight");d=$("<button></button>");d.addClass("ui-notification-close");d.button({icon:"ui-icon-close",showLabel:!1});d.on("click",function(){c.close()});b.append(d);
this.options.icon&&b.append($('<span class="ui-notification-content ui-icon ui-icon-'+this.options.icon+'"></span>'));d=$("<div></div>");this._addClass(d,"ui-notification-content");b.append(d);d.append(this.element.clone());d.find(":first-child").show();b.hide();this._autoCloseTimer=null;this.options.autoClose&&(c._autoCloseTimer=setTimeout(function(){c.close()},this.options.autoClose));this.notification=b;this.options.autoOpen&&this.open()},open:function(){b.prepend(this.widget());this._isOpen=!0;
this._show(this.widget(),this.options.show)},widget:function(){return this.notification},close:function(){var a=this;this._autoCloseTimer&&clearTimeout(this._autoCloseTimer);this._isOpen=!1;this._hide(this.widget(),this.options.hide,function(){a.options.destroyOnClose&&a.destroy()})},_destroy:function(){this._isOpen&&this.close()}})})();
//# sourceMappingURL=functions.min.js.map
