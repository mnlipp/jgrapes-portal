{
"version":3,
"file":"",
"lineCount":63,
"mappings":"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",
"sources":[" [synthetic:base] "," [synthetic:util/global] "," [synthetic:util/defines] "," [synthetic:util/defineproperty] "," [synthetic:es6/symbol] "," [synthetic:es6/util/makeiterator] "," [synthetic:es6/util/arrayfromiterator] "," [synthetic:es6/util/arrayfromiterable] "," [synthetic:util/checkstringargs] "," [synthetic:util/polyfill] "," [synthetic:es6/string/endswith] "," [synthetic:es6/conformance] "," [synthetic:util/owns] "," [synthetic:es6/weakmap] "," [synthetic:es6/map] "," [synthetic:es6/set] "," [synthetic:es6/array/from] "," [synthetic:es6/string/startswith] "," [synthetic:util/findinternal] "," [synthetic:es6/array/find] "," [synthetic:es6/util/iteratorfromarray] "," [synthetic:es6/array/keys] "," [synthetic:es6/object/values] "," [synthetic:es6/array/values] ","functions.js"],
"sourcesContent":["/*\n * Copyright 2012 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * @fileoverview The base namespace for code injected by the compiler\n * at compile-time.\n *\n * @author nicksantos@google.com (Nick Santos)\n */\n\n/** @const */\nvar $jscomp = $jscomp || {};\n\n/** @const Locals for goog.scope */\n$jscomp.scope = {};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Runtime code to store the global object.\n */\n'require base';\n'declare global';\n'declare window';\n\n\n/**\n * @param {!Object} maybeGlobal\n * @return {!Object} The global object.\n * @suppress {undefinedVars|reportUnknownTypes}\n */\n$jscomp.getGlobal = function(maybeGlobal) {\n  return (typeof window != 'undefined' && window === maybeGlobal) ?\n      maybeGlobal :\n      (typeof global != 'undefined' && global != null) ? global : maybeGlobal;\n};\n\n\n// TODO(sdh): This should be typed as \"the global object\", but there's not\n// currently any way to do this in the existing type system.\n/**\n * The global object. For browsers we could just use `this` but in Node that\n * doesn't work.\n * @const {?}\n */\n$jscomp.global = $jscomp.getGlobal(this);\n","/*\n * Copyright 2017 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require base';\n\n\n/**\n * Whether to assume ES5 is available.  This enables removing several\n * internal polyfills, which must otherwise be detected at runtime.\n * @define {boolean}\n */\n$jscomp.ASSUME_ES5 = false;\n\n/**\n * Whether to skip the conformance check and simply use the polyfill always.\n * @define {boolean}\n */\n$jscomp.ASSUME_NO_NATIVE_MAP = false;\n\n/**\n * Whether to skip the conformance check and simply use the polyfill always.\n * @define {boolean}\n */\n$jscomp.ASSUME_NO_NATIVE_SET = false;\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Provides methods to polyfill native objects.\n * @suppress {reportUnknownTypes}\n */\n'require util/defines';\n\n\n/**\n * Polyfill for Object.defineProperty() method:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\n *\n * Refuses to define properties on Array.prototype and Object.prototype,\n * since we can't make them non-enumerable and this messes up peoples' for\n * loops.  Beyond this, we simply assign values and not worry\n * about enumerability or writeability.\n * @param {?} target\n * @param {string} property\n * @param {?} descriptor\n * @suppress {reportUnknownTypes}\n */\n$jscomp.defineProperty =\n    $jscomp.ASSUME_ES5 || typeof Object.defineProperties == 'function' ?\n    Object.defineProperty :\n    function(target, property, descriptor) {\n      descriptor = /** @type {!ObjectPropertyDescriptor} */ (descriptor);\n      // NOTE: This is currently never called with a descriptor outside\n      // the control of the compiler.  If we ever decide to polyfill either\n      // Object.defineProperty or Reflect.defineProperty for ES3, we should\n      // explicitly check for `get` or `set` on the descriptor and throw a\n      // TypeError, since it's impossible to properly polyfill it.\n      if (target == Array.prototype || target == Object.prototype) return;\n      target[property] = descriptor.value;\n    };\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require util/defineproperty';\n'require util/global';\n\n/** @const {string} */\n$jscomp.SYMBOL_PREFIX = 'jscomp_symbol_';\n\n\n/**\n * Initializes the Symbol function.\n * @suppress {reportUnknownTypes}\n */\n$jscomp.initSymbol = function() {\n  // Only need to do this once. All future calls are no-ops.\n  $jscomp.initSymbol = function() {};\n\n  if (!$jscomp.global['Symbol']) {\n    $jscomp.global['Symbol'] = $jscomp.Symbol;\n  }\n};\n\n\n/**\n * Produces \"symbols\" (actually just unique strings).\n * @param {string=} opt_description\n * @return {symbol}\n */\n$jscomp.Symbol = /** @type {function(): !Function} */ (function() {\n  var counter = 0;\n  /**\n   * @param {string=} opt_description\n   * @return {symbol}\n   * @suppress {reportUnknownTypes}\n   */\n  function Symbol(opt_description) {\n    return /** @type {symbol} */ (\n        $jscomp.SYMBOL_PREFIX + (opt_description || '') + (counter++));\n  }\n  return Symbol;\n})();\n\n\n/**\n * Initializes Symbol.iterator (if it's not already defined) and adds a\n * Symbol.iterator property to the Array prototype.\n * @suppress {reportUnknownTypes}\n */\n$jscomp.initSymbolIterator = function() {\n  $jscomp.initSymbol();\n  var symbolIterator = $jscomp.global['Symbol'].iterator;\n  if (!symbolIterator) {\n    symbolIterator = $jscomp.global['Symbol'].iterator =\n        $jscomp.global['Symbol']('iterator');\n  }\n\n  if (typeof Array.prototype[symbolIterator] != 'function') {\n    $jscomp.defineProperty(\n        Array.prototype, symbolIterator, {\n          configurable: true,\n          writable: true,\n          /**\n           * @this {Array}\n           * @return {!IteratorIterable}\n           */\n          value: function() {\n            return $jscomp.arrayIterator(this);\n          }\n        });\n  }\n\n  // Only need to do this once. All future calls are no-ops.\n  $jscomp.initSymbolIterator = function() {};\n};\n\n\n/**\n * Returns an iterator from the given array.\n * @param {!Array<T>} array\n * @return {!IteratorIterable<T>}\n * @template T\n */\n$jscomp.arrayIterator = function(array) {\n  var index = 0;\n  return $jscomp.iteratorPrototype(function() {\n    if (index < array.length) {\n      return {\n        done: false,\n        value: array[index++],\n      };\n    } else {\n      return {done: true};\n    }\n  });\n};\n\n\n/**\n * Returns an iterator with the given `next` method.  Passing\n * all iterators through this function allows easily extending\n * the definition of `%IteratorPrototype%` if methods are ever\n * added to it in the future.\n *\n * @param {function(this: Iterator<T>): T} next\n * @return {!IteratorIterable<T>}\n * @template T\n * @suppress {reportUnknownTypes}\n */\n$jscomp.iteratorPrototype = function(next) {\n  $jscomp.initSymbolIterator();\n\n  var iterator = {next: next};\n  /**\n   * @this {IteratorIterable}\n   * @return {!IteratorIterable}\n   */\n  iterator[$jscomp.global['Symbol'].iterator] = function() { return this; };\n  return /** @type {!IteratorIterable} */ (iterator);\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for for-of loops.\n */\n'require es6/symbol';\n\n\n/**\n * Creates an iterator for the given iterable.\n *\n * @param {string|!Iterable<T>|!Iterator<T>|!Arguments<T>} iterable\n * @return {!Iterator<T>}\n * @template T\n * @suppress {reportUnknownTypes}\n */\n$jscomp.makeIterator = function(iterable) {\n  $jscomp.initSymbolIterator();\n\n  // NOTE: Disabling typechecking because [] not allowed on @struct.\n  var iteratorFunction = /** @type {?} */ (iterable)[Symbol.iterator];\n  return iteratorFunction ? iteratorFunction.call(iterable) :\n      $jscomp.arrayIterator(/** @type {!Array} */ (iterable));\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for array destructuring.\n */\n'require base';\n\n\n/**\n * Copies the values from an Iterator into an Array. The important difference\n * between this and $jscomp.arrayFromIterable is that if the iterator's\n * next() method has already been called one or more times, this method returns\n * only the values that haven't been yielded yet.\n * @param {!Iterator<T>} iterator\n * @return {!Array<T>}\n * @template T\n * @suppress {reportUnknownTypes}\n */\n$jscomp.arrayFromIterator = function(iterator) {\n  var i;\n  var arr = [];\n  while (!(i = iterator.next()).done) {\n    arr.push(i.value);\n  }\n  return arr;\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for array destructuring.\n */\n'require es6/util/makeiterator';\n'require es6/util/arrayfromiterator';\n\n\n/**\n * Copies the values from an Iterable into an Array.\n * @param {string|!Array<T>|!Iterable<T>|!Arguments<T>} iterable\n * @return {!Array<T>}\n * @template T\n */\n$jscomp.arrayFromIterable = function(iterable) {\n  if (iterable instanceof Array) {\n    return iterable;\n  } else {\n    return $jscomp.arrayFromIterator($jscomp.makeIterator(iterable));\n  }\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require base';\n\n\n/**\n * Throws if the argument is a RegExp, or if thisArg is undefined.\n * @param {?} thisArg The 'this' arg, which must be defined.\n * @param {*} arg The first argument of the function, which mustn't be a RegExp.\n * @param {string} func Name of the function, for reporting.\n * @return {string} The thisArg, coerced to a string.\n * @suppress {reportUnknownTypes}\n */\n$jscomp.checkStringArgs = function(thisArg, arg, func) {\n  if (thisArg == null) {\n    throw new TypeError(\n        \"The 'this' value for String.prototype.\" + func +\n        ' must not be null or undefined');\n  }\n  if (arg instanceof RegExp) {\n    throw new TypeError(\n        'First argument to String.prototype.' + func +\n        ' must not be a regular expression');\n  }\n  return thisArg + '';\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Provides methods to polyfill native objects.\n */\n'require util/defineproperty';\n'require util/global';\n\n\n/**\n * @param {string} target Qualified name of the class or method to polyfill,\n *     e.g. 'Array.prototype.includes' or 'Map'.\n * @param {?function(*): *} polyfill A function that takes the current browser\n *     implementation of the target and returns an optional new polyfill\n *     implementation.  If null is returned, then no polyfill will be added.  A\n *     null argument for this parameter indicates that the function will not be\n *     polyfilled, and is only useful for `build_polyfill_table.js` bookkeeping.\n * @param {string} fromLang The language level in which the target is expected\n *     to already be present in the browser.  The compiler requires that\n *     `languageOut < fromLang` before injecting a polyfill (i.e. if the\n *     specified output language already includes the feature then there's no\n *     need to polyfill it).\n * @param {string} toLang The language level required by the polyfill\n *     implementation.  The compiler will issue an error if a polyfill is\n *     required, but `languageOut < toLang`.  Additionally, the\n *     `build_polyfill_table.js` script audits the polyfill dependency tree to\n *     ensure that no polyfill with a lower `toLang` depends on one with a\n *     higher `toLang`.\n * @suppress {reportUnknownTypes}\n * @noinline\n * NOTE: We prevent inlining so RemoveUnusedPolyfills can always recognize this\n * call.\n */\n$jscomp.polyfill = function(target, polyfill, fromLang, toLang) {\n  if (!polyfill) return;\n  var obj = $jscomp.global;\n  var split = target.split('.');\n  for (var i = 0; i < split.length - 1; i++) {\n    var key = split[i];\n    if (!(key in obj)) obj[key] = {};  // Might want to be defineProperty.\n    obj = obj[key];\n  }\n  var property = split[split.length - 1];\n  var orig = obj[property];\n  var impl = polyfill(orig);\n  if (impl == orig || impl == null) return;\n  $jscomp.defineProperty(\n      obj, property, {configurable: true, writable: true, value: impl});\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require util/checkstringargs';\n'require util/polyfill';\n\n$jscomp.polyfill('String.prototype.endsWith', function(orig) {\n  if (orig) return orig;\n\n  /**\n   * Tests whether the string ends with a given substring.\n   *\n   * <p>Polyfills the instance method String.prototype.endsWith().\n   *\n   * @this {string}\n   * @param {string} searchString\n   * @param {number=} opt_position\n   * @return {boolean}\n   */\n  var polyfill = function(searchString, opt_position) {\n    'use strict';\n    var string = $jscomp.checkStringArgs(this, searchString, 'endsWith');\n    searchString = searchString + '';\n    if (opt_position === void 0) opt_position = string.length;\n    var i = Math.max(0, Math.min(opt_position | 0, string.length));\n    var j = searchString.length;\n    while (j > 0 && i > 0) {\n      if (string[--i] != searchString[--j]) return false;\n    }\n    return j <= 0;\n  };\nreturn polyfill;\n}, 'es6', 'es3');\n","/*\n * Copyright 2017 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require util/global';\n\n\n/**\n * @fileoverview Check one of the most obscure features of ES6 as a proxy\n * for full conformance.  If this is enabled, this test is used instead of\n * larger, more specific conformance tests.\n */\n\n/**\n * Check ES6 conformance by checking an obscure detail of Proxy that\n * wasn't implemented correctly until after all other ES6 features in\n * most browsers.\n * @return {boolean} Whether Proxy works correctly.\n * @suppress {reportUnknownTypes}\n */\n$jscomp.checkEs6ConformanceViaProxy = function() {\n  try {\n    var proxied = {};\n    var proxy = Object.create(new $jscomp.global['Proxy'](proxied, {\n      'get': function (target, key, receiver) {\n        return target == proxied && key == 'q' && receiver == proxy;\n      }\n    }));\n    return proxy['q'] === true;\n  } catch (err) {\n    return false;\n  }\n};\n\n/**\n * If this is true, assume that a runtime which implements Proxy also\n * implements the rest of the ECMAScript 2015 spec.\n * @define {boolean}\n */\n$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS = false;\n\n/**\n * Whether the runtime implements the entire ECMAScript 2015 spec.\n * @const {boolean}\n */\n$jscomp.ES6_CONFORMANCE =\n    $jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS &&\n    $jscomp.checkEs6ConformanceViaProxy();\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require base';\n\n/**\n * Synonym for Object.prototype.hasOwnProperty.call(obj, prop).\n * @param {!Object} obj\n * @param {string} prop\n * @return {boolean}\n */\n$jscomp.owns = function(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require es6/conformance';\n'require es6/symbol';\n'require es6/util/makeiterator';\n'require util/defineproperty';\n'require util/owns';\n'require util/polyfill';\n\n$jscomp.polyfill('WeakMap',\n    /**\n     * @param {*} NativeWeakMap\n     * @return {*}\n     * @suppress {reportUnknownTypes}\n     */\n    function(NativeWeakMap) {\n  /**\n   * Checks conformance of the existing WeakMap.\n   * @return {boolean} True if the browser's implementation conforms.\n   */\n  function isConformant() {\n    if (!NativeWeakMap || !Object.seal) return false;\n    try {\n      var x = Object.seal({});\n      var y = Object.seal({});\n      var map = new /** @type {function(new: WeakMap, !Array)} */ (\n          NativeWeakMap)([[x, 2], [y, 3]]);\n      if (map.get(x) != 2 || map.get(y) != 3) return false;\n      map.delete(x);\n      map.set(y, 4);\n      return !map.has(x) && map.get(y) == 4;\n    } catch (err) { // This should hopefully never happen, but let's be safe.\n      return false;\n    }\n  }\n  if ($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS) {\n    if (NativeWeakMap && $jscomp.ES6_CONFORMANCE) return NativeWeakMap;\n  } else {\n    if (isConformant()) return NativeWeakMap;\n  }\n\n  var prop = '$jscomp_hidden_' + Math.random();\n\n  /**\n   * Inserts the hidden property into the target.\n   * @param {!Object} target\n   */\n  function insert(target) {\n    if (!$jscomp.owns(target, prop)) {\n      var obj = {};\n      // TODO(sdh): This property will be enumerated in IE8.  If this becomes\n      // a problem, we could avoid it by copying an infrequently-used non-enum\n      // method (like toLocaleString) onto the object itself and encoding the\n      // property on the copy instead.  This codepath must be easily removable\n      // if IE8 support is not needed.\n      $jscomp.defineProperty(target, prop, {value: obj});\n    }\n  }\n\n  /**\n   * Monkey-patches the freezing methods to ensure that the hidden\n   * property is added before any freezing happens.\n   * @param {string} name\n   */\n  function patch(name) {\n    var prev = Object[name];\n    if (prev) {\n      Object[name] = function(target) {\n        insert(target);\n        return prev(target);\n      };\n    }\n  }\n  patch('freeze');\n  patch('preventExtensions');\n  patch('seal');\n  // Note: no need to patch Reflect.preventExtensions since the polyfill\n  // just calls Object.preventExtensions anyway (and if it's not polyfilled\n  // then neither is WeakMap).\n\n  var index = 0;\n\n  /**\n   * Polyfill for WeakMap:\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap\n   *\n   * This implementation is as non-leaky as possible, due to patching\n   * the freezing and sealing operations.  It does not include any logic\n   * to handle cases where a key was somehow made non-extensible without\n   * the special hidden property being added.  It takes some care to ensure\n   * the hidden property is not enumerated over nor discoverable, though\n   * it's not completely secure (particularly in IE8).\n   *\n   * @constructor\n   * @extends {WeakMap<KEY, VALUE>}\n   * @template KEY, VALUE\n   * @param {!Iterator<!Array<KEY|VALUE>>|!Array<!Array<KEY|VALUE>>|null=}\n   *     opt_iterable Optional initial data.\n   */\n  var PolyfillWeakMap = function(opt_iterable) {\n    /** @private @const {string} */\n    this.id_ = (index += (Math.random() + 1)).toString();\n\n    if (opt_iterable) {\n      $jscomp.initSymbol();\n      $jscomp.initSymbolIterator();\n      var iter = $jscomp.makeIterator(opt_iterable);\n      var entry;\n      while (!(entry = iter.next()).done) {\n        var item = entry.value;\n        this.set(/** @type {KEY} */ (item[0]), /** @type {VALUE} */ (item[1]));\n      }\n    }\n  };\n\n  /** @override */\n  PolyfillWeakMap.prototype.set = function(key, value) {\n    insert(key);\n    if (!$jscomp.owns(key, prop)) {\n      // NOTE: If the insert() call fails on the key, but the property\n      // has previously successfully been added higher up the prototype\n      // chain, then we'll silently misbehave.  Instead, throw immediately\n      // before doing something bad.  If this becomes a problem (e.g. due\n      // to some rogue frozen objects) then we may need to add a slow and\n      // leaky fallback array to each WeakMap instance, as well as extra\n      // logic in each accessor to use it (*only*) when necessary.\n      throw new Error('WeakMap key fail: ' + key);\n    }\n    key[prop][this.id_] = value;\n    return this;\n  };\n\n  /** @override */\n  PolyfillWeakMap.prototype.get = function(key) {\n    return $jscomp.owns(key, prop) ? key[prop][this.id_] : undefined;\n  };\n\n  /** @override */\n  PolyfillWeakMap.prototype.has = function(key) {\n    return $jscomp.owns(key, prop) && $jscomp.owns(key[prop], this.id_);\n  };\n\n  /** @override */\n  PolyfillWeakMap.prototype.delete = function(key) {\n    if (!$jscomp.owns(key, prop) ||\n        !$jscomp.owns(key[prop], this.id_)) {\n      return false;\n    }\n    return delete key[prop][this.id_];\n  };\n\n  return PolyfillWeakMap;\n}, 'es6', 'es3');\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require es6/conformance';\n'require es6/symbol';\n'require es6/util/makeiterator';\n'require es6/weakmap';\n'require util/defines';\n'require util/owns';\n'require util/polyfill';\n\n\n/**\n * Internal record type for entries.\n * @record\n * @template KEY, VALUE\n * @suppress {reportUnknownTypes}\n */\n$jscomp.MapEntry = function() {\n  /** @type {!$jscomp.MapEntry<KEY, VALUE>} */\n  this.previous;\n  /** @type {!$jscomp.MapEntry<KEY, VALUE>} */\n  this.next;\n  /** @type {?Object} */\n  this.head;\n  /** @type {KEY} */\n  this.key;\n  /** @type {VALUE} */\n  this.value;\n};\n\n\n$jscomp.polyfill('Map',\n    /**\n     * @param {*} NativeMap\n     * @return {*}\n     * @suppress {reportUnknownTypes}\n     */\n    function(NativeMap) {\n\n  /**\n   * Checks conformance of the existing Map.\n   * @return {boolean} True if the browser's implementation conforms.\n   * @suppress {missingProperties} \"entries\" unknown prototype\n   */\n  function isConformant() {\n    if ($jscomp.ASSUME_NO_NATIVE_MAP ||\n        !NativeMap ||\n        typeof NativeMap != \"function\" ||\n        !NativeMap.prototype.entries ||\n        typeof Object.seal != 'function') {\n      return false;\n    }\n    // Some implementations don't support constructor arguments.\n    try {\n      NativeMap = /** @type {function(new: Map, !Iterator=)} */ (NativeMap);\n      var key = Object.seal({x: 4});\n      var map = new NativeMap($jscomp.makeIterator([[key, 's']]));\n      if (map.get(key) != 's' || map.size != 1 || map.get({x: 4}) ||\n          map.set({x: 4}, 't') != map || map.size != 2) {\n        return false;\n      }\n      var /** !Iterator<!Array> */ iter = map.entries();\n      var item = iter.next();\n      if (item.done || item.value[0] != key || item.value[1] != 's') {\n        return false;\n      }\n      item = iter.next();\n      if (item.done || item.value[0].x != 4 ||\n          item.value[1] != 't' || !iter.next().done) {\n        return false;\n      }\n      return true;\n    } catch (err) { // This should hopefully never happen, but let's be safe.\n      return false;\n    }\n  }\n\n  if ($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS) {\n    if (NativeMap && $jscomp.ES6_CONFORMANCE) return NativeMap;\n  } else {\n    if (isConformant()) return NativeMap;\n  }\n\n  // We depend on Symbol.iterator, so ensure it's loaded.\n  $jscomp.initSymbol();\n  $jscomp.initSymbolIterator();\n\n\n  /** @const {!WeakMap<!Object, string>} */\n  var idMap = new WeakMap();\n\n\n  /**\n   * Polyfill for the global Map data type.\n   * @constructor\n   * @struct\n   * @extends {Map<KEY, VALUE>}\n   * @implements {Iterable<!Array<KEY|VALUE>>}\n   * @template KEY, VALUE\n   * @param {!Iterable<!Array<KEY|VALUE>>|!Array<!Array<KEY|VALUE>>|null=}\n   *     opt_iterable Optional data to populate the map.\n   */\n  // TODO(sdh): fix param type if heterogeneous arrays ever supported.\n  var PolyfillMap = function(opt_iterable) {\n    /** @private {!Object<!Array<!$jscomp.MapEntry<KEY, VALUE>>>} */\n    this.data_ = {};\n\n    /** @private {!$jscomp.MapEntry<KEY, VALUE>} */\n    this.head_ = createHead();\n\n    // Note: this property should not be changed.  If we're willing to give up\n    // ES3 support, we could define it as a property directly.  It should be\n    // marked readonly if such an annotation ever comes into existence.\n    /** @type {number} */\n    this.size = 0;\n\n    if (opt_iterable) {\n      var iter = $jscomp.makeIterator(opt_iterable);\n      var entry;\n      while (!(entry = iter.next()).done) {\n        var item =\n            /** @type {!IIterableResult<!Array<KEY|VALUE>>} */ (entry).value;\n        this.set(/** @type {KEY} */ (item[0]), /** @type {VALUE} */ (item[1]));\n      }\n    }\n  };\n\n\n  /** @override */\n  PolyfillMap.prototype.set = function(key, value) {\n    var r = maybeGetEntry(this, key);\n    if (!r.list) {\n      r.list = (this.data_[r.id] = []);\n    }\n    if (!r.entry) {\n      r.entry = {\n        next: this.head_,\n        previous: this.head_.previous,\n        head: this.head_,\n        key: key,\n        value: value,\n      };\n      r.list.push(r.entry);\n      this.head_.previous.next = r.entry;\n      this.head_.previous = r.entry;\n      this.size++;\n    } else {\n      r.entry.value = value;\n    }\n    return this;\n  };\n\n\n  /** @override */\n  PolyfillMap.prototype.delete = function(key) {\n    var r = maybeGetEntry(this, key);\n    if (r.entry && r.list) {\n      r.list.splice(r.index, 1);\n      if (!r.list.length) delete this.data_[r.id];\n      r.entry.previous.next = r.entry.next;\n      r.entry.next.previous = r.entry.previous;\n      r.entry.head = null;\n      this.size--;\n      return true;\n    }\n    return false;\n  };\n\n\n  /** @override */\n  PolyfillMap.prototype.clear = function() {\n    this.data_ = {};\n    this.head_ = this.head_.previous = createHead();\n    this.size = 0;\n  };\n\n\n  /** @override */\n  PolyfillMap.prototype.has = function(key) {\n    return !!(maybeGetEntry(this, key).entry);\n  };\n\n\n  /** @override */\n  PolyfillMap.prototype.get = function(key) {\n    var entry = maybeGetEntry(this, key).entry;\n    // NOTE: this cast is a lie, but so is the extern.\n    return /** @type {VALUE} */ (entry &&\n      /** @type {VALUE} */ (entry.value));\n  };\n\n\n  /** @override */\n  PolyfillMap.prototype.entries = function() {\n    return makeIterator(this, /** @return {!Array<(KEY|VALUE)>} */ function(\n        /** !$jscomp.MapEntry<KEY, VALUE> */ entry) {\n      return ([entry.key, entry.value]);\n    });\n  };\n\n\n  /** @override */\n  PolyfillMap.prototype.keys = function() {\n    return makeIterator(this, /** @return {KEY} */ function(\n        /** !$jscomp.MapEntry<KEY, VALUE> */ entry) {\n      return entry.key;\n    });\n  };\n\n\n  /** @override */\n  PolyfillMap.prototype.values = function() {\n    return makeIterator(this, /** @return {VALUE} */ function(\n        /** !$jscomp.MapEntry<KEY, VALUE> */ entry) {\n      return entry.value;\n    });\n  };\n\n\n  /** @override */\n  PolyfillMap.prototype.forEach = function(callback, opt_thisArg) {\n    var iter = this.entries();\n    var item;\n    while (!(item = iter.next()).done) {\n      var entry = item.value;\n      callback.call(\n          /** @type {?} */ (opt_thisArg),\n          /** @type {VALUE} */ (entry[1]),\n          /** @type {KEY} */ (entry[0]),\n          this);\n    }\n  };\n\n\n  /** @type {?} */ (PolyfillMap.prototype)[Symbol.iterator] =\n      PolyfillMap.prototype.entries;\n\n\n  /**\n   * Returns an entry or undefined.\n   * @param {!PolyfillMap<KEY, VALUE>} map\n   * @param {KEY} key\n   * @return {{id: string,\n   *           list: (!Array<!$jscomp.MapEntry<KEY, VALUE>>|undefined),\n   *           index: number,\n   *           entry: (!$jscomp.MapEntry<KEY, VALUE>|undefined)}}\n   * @template KEY, VALUE\n   */\n  var maybeGetEntry = function(map, key) {\n    var id = getId(key);\n    var list = map.data_[id];\n    if (list && $jscomp.owns(map.data_, id)) {\n      for (var index = 0; index < list.length; index++) {\n        var entry = list[index];\n        if ((key !== key && entry.key !== entry.key) || key === entry.key) {\n          return {id: id, list: list, index: index, entry: entry};\n        }\n      }\n    }\n    return {id: id, list: list, index: -1, entry: undefined};\n  };\n\n\n  /**\n   * Maps over the entries with the given function.\n   * @param {!PolyfillMap<KEY, VALUE>} map\n   * @param {function(!$jscomp.MapEntry<KEY, VALUE>): T} func\n   * @return {!IteratorIterable<T>}\n   * @template KEY, VALUE, T\n   * @private\n   */\n  var makeIterator = function(map, func) {\n    var entry = map.head_;\n    return $jscomp.iteratorPrototype(function() {\n      if (entry) {\n        while (entry.head != map.head_) {\n          entry = entry.previous;\n        }\n        while (entry.next != entry.head) {\n          entry = entry.next;\n          return {done: false, value: func(entry)};\n        }\n        entry = null; // make sure depletion is permanent\n      }\n      return {done: true, value: void 0};\n    });\n  };\n\n\n  /**\n   * Makes a new \"head\" element.\n   * @return {!$jscomp.MapEntry<KEY, VALUE>}\n   * @template KEY, VALUE\n   * @suppress {checkTypes} ignore missing key/value for head only\n   */\n  var createHead = function() {\n    var head = /** type {!$jscomp.MapEntry<KEY, VALUE>} */ ({});\n    head.previous = head.next = head.head = head;\n    return head;\n  };\n\n\n  /**\n   * Counter for generating IDs.\n   * @private {number}\n   */\n  var mapIndex = 0;\n\n\n  /**\n   * @param {*} obj An extensible object.\n   * @return {string} A unique ID.\n   */\n  var getId = function(obj) {\n    var type = obj && typeof obj;\n    if (type == 'object' || type == 'function') {\n      obj = /** @type {!Object} */ (obj);\n      if (!idMap.has(obj)) {\n        var id = '' + (++mapIndex);\n        idMap.set(obj, id);\n        return id;\n      }\n      return idMap.get(obj);\n    }\n    // Add a prefix since obj could be '__proto__';\n    return 'p_' + obj;\n  };\n\n\n  return PolyfillMap;\n}, 'es6', 'es3');\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require es6/conformance';\n'require es6/map';\n'require es6/symbol';\n'require util/defines';\n'require util/polyfill';\n\n$jscomp.polyfill('Set',\n    /**\n     * @param {*} NativeSet\n     * @return {*}\n     * @suppress {reportUnknownTypes}\n     */\n    function(NativeSet) {\n\n  /**\n   * Checks conformance of the existing Set.\n   * @return {boolean} True if the browser's implementation conforms.\n   * @suppress {missingProperties} \"entries\" unknown prototype\n   */\n  function isConformant() {\n    if ($jscomp.ASSUME_NO_NATIVE_SET ||\n        !NativeSet ||\n        typeof NativeSet != \"function\" ||\n        !NativeSet.prototype.entries ||\n        typeof Object.seal != 'function') {\n      return false;\n    }\n    // Some implementations don't support constructor arguments.\n    try {\n      NativeSet = /** @type {function(new: Set, !Iterator=)} */ (NativeSet);\n      var value = Object.seal({x: 4});\n      var set = new NativeSet($jscomp.makeIterator([value]));\n      if (!set.has(value) || set.size != 1 || set.add(value) != set ||\n          set.size != 1 || set.add({x: 4}) != set || set.size != 2) {\n        return false;\n      }\n      var iter = set.entries();\n      var item = iter.next();\n      if (item.done || item.value[0] != value || item.value[1] != value) {\n        return false;\n      }\n      item = iter.next();\n      if (item.done || item.value[0] == value || item.value[0].x != 4 ||\n          item.value[1] != item.value[0]) {\n        return false;\n      }\n      return iter.next().done;\n    } catch (err) { // This should hopefully never happen, but let's be safe.\n      return false;\n    }\n  }\n\n  if ($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS) {\n    if (NativeSet && $jscomp.ES6_CONFORMANCE) return NativeSet;\n  } else {\n    if (isConformant()) return NativeSet;\n  }\n\n  // We depend on Symbol.iterator, so ensure it's loaded.\n  $jscomp.initSymbol();\n  $jscomp.initSymbolIterator();\n\n\n\n  /**\n   * Polyfill for the global Map data type.\n   * @constructor\n   * @struct\n   * @extends {Set<VALUE>}\n   * @implements {Iterable<VALUE>}\n   * @template KEY, VALUE\n   * @param {!Iterable<VALUE>|!Array<VALUE>|null=} opt_iterable\n   *     Optional data to populate the set.\n   */\n  // TODO(sdh): fix param type if heterogeneous arrays ever supported.\n  var PolyfillSet = function(opt_iterable) {\n    /** @private @const {!Map<VALUE, VALUE>} */\n    this.map_ = new Map();\n    if (opt_iterable) {\n      var iter = $jscomp.makeIterator(opt_iterable);\n      var entry;\n      while (!(entry = iter.next()).done) {\n        var item = /** @type {!IIterableResult<VALUE>} */ (entry).value;\n        this.add(item);\n      }\n    }\n    // Note: this property should not be changed.  If we're willing to give up\n    // ES3 support, we could define it as a property directly.  It should be\n    // marked readonly if such an annotation ever comes into existence.\n    this.size = this.map_.size;\n  };\n\n\n  /** @override */\n  PolyfillSet.prototype.add = function(value) {\n    this.map_.set(value, value);\n    this.size = this.map_.size;\n    return this;\n  };\n\n\n  /** @override */\n  PolyfillSet.prototype.delete = function(value) {\n    var result = this.map_.delete(value);\n    this.size = this.map_.size;\n    return result;\n  };\n\n\n  /** @override */\n  PolyfillSet.prototype.clear = function() {\n    this.map_.clear();\n    this.size = 0;\n  };\n\n\n  /** @override */\n  PolyfillSet.prototype.has = function(value) {\n    return this.map_.has(value);\n  };\n\n\n  /** @override */\n  PolyfillSet.prototype.entries = function() {\n    return this.map_.entries();\n  };\n\n\n  /** @override */\n  PolyfillSet.prototype.values = function() {\n    return this.map_.values();\n  };\n\n\n  /** @override */\n  PolyfillSet.prototype.keys = PolyfillSet.prototype.values;\n\n\n  /** @type {?} */ (PolyfillSet.prototype)[Symbol.iterator] =\n      PolyfillSet.prototype.values;\n\n\n  /** @override */\n  PolyfillSet.prototype.forEach = function(callback, opt_thisArg) {\n    var set = this;\n    this.map_.forEach(function(value) {\n      return callback.call(/** @type {?} */ (opt_thisArg), value, value, set);\n    });\n  };\n\n\n  return PolyfillSet;\n}, 'es6', 'es3');\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require es6/symbol';\n'require util/polyfill';\n\n$jscomp.polyfill('Array.from', function(orig) {\n  if (orig) return orig;\n\n  /**\n   * Creates a new Array from an array-like or iterable object.\n   *\n   * <p>Polyfills the static function Array.from().  Does not support\n   * constructor inheritance (i.e. (subclass of Array).from), and\n   * relies on the compiler to check the validity of inputs rather\n   * than producing spec-compliant TypeErrors.\n   *\n   * @param {!IArrayLike<INPUT>|!Iterable<INPUT>} arrayLike\n   *     An array-like or iterable.\n   * @param {(function(this: THIS, INPUT): OUTPUT)=} opt_mapFn\n   *     Function to call on each argument.\n   * @param {THIS=} opt_thisArg\n   *     Object to use as 'this' when calling mapFn.\n   * @return {!Array<OUTPUT>}\n   * @template INPUT, OUTPUT, THIS\n   * @suppress {reportUnknownTypes}\n   */\n  var polyfill = function(arrayLike, opt_mapFn, opt_thisArg) {\n    $jscomp.initSymbolIterator();\n    opt_mapFn = opt_mapFn != null ? opt_mapFn : function(x) { return x; };\n    var result = [];\n    // NOTE: this is cast to ? because [] on @struct is an error\n    var iteratorFunction = /** @type {?} */ (arrayLike)[Symbol.iterator];\n    if (typeof iteratorFunction == 'function') {\n      arrayLike = iteratorFunction.call(arrayLike);\n      var next;\n      while (!(next = arrayLike.next()).done) {\n        result.push(\n            opt_mapFn.call(/** @type {?} */ (opt_thisArg), next.value));\n      }\n    } else {\n      var len = arrayLike.length;  // need to support non-iterables\n      for (var i = 0; i < len; i++) {\n        result.push(\n            opt_mapFn.call(/** @type {?} */ (opt_thisArg), arrayLike[i]));\n      }\n    }\n    return result;\n  };\n\n  return polyfill;\n}, 'es6', 'es3');\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require util/checkstringargs';\n'require util/polyfill';\n\n$jscomp.polyfill('String.prototype.startsWith', function(orig) {\n  if (orig) return orig;\n\n  /**\n   * Tests whether the string starts with a given substring.\n   *\n   * <p>Polyfills the instance method String.prototype.startsWith().\n   *\n   * @this {string}\n   * @param {string} searchString\n   * @param {number=} opt_position\n   * @return {boolean}\n   */\n  var polyfill = function(searchString, opt_position) {\n    'use strict';\n    var string = $jscomp.checkStringArgs(this, searchString, 'startsWith');\n    searchString = searchString + '';\n    var strLen = string.length;\n    var searchLen = searchString.length;\n    var i = Math.max(\n        0,\n        Math.min(/** @type {number} */ (opt_position) | 0, string.length));\n    var j = 0;\n    while (j < searchLen && i < strLen) {\n      if (string[i++] != searchString[j++]) return false;\n    }\n    return j >= searchLen;\n  };\n\n  return polyfill;\n}, 'es6', 'es3');\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Utility for Array methods that find elements.\n */\n'require base';\n\n// TODO(sdh): would be nice to template on the ARRAY type as well,\n// so that the third arg type of callback can be refined to be\n// exactly the same as the array type, but then there's no way to\n// enforce that it must, in fact, be an array.\n/**\n * Internal implementation of find.\n * @param {!IArrayLike<VALUE>} array\n * @param {function(this: THIS, VALUE, number, !IArrayLike<VALUE>): *} callback\n * @param {THIS} thisArg\n * @return {{i: number, v: (VALUE|undefined)}}\n * @template THIS, VALUE\n * @suppress {reportUnknownTypes}\n */\n$jscomp.findInternal = function(array, callback, thisArg) {\n  if (array instanceof String) {\n    array = /** @type {!IArrayLike} */ (String(array));\n  }\n  var len = array.length;\n  for (var i = 0; i < len; i++) {\n    var value = array[i];\n    if (callback.call(thisArg, value, i, array)) return {i: i, v: value};\n  }\n  return {i: -1, v: void 0};\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require util/findinternal';\n'require util/polyfill';\n\n$jscomp.polyfill('Array.prototype.find', function(orig) {\n  if (orig) return orig;\n\n  /**\n   * Finds and returns an element that satisfies the given predicate.\n   *\n   * @this {!IArrayLike<VALUE>}\n   * @param {function(this: THIS, VALUE, number, !IArrayLike<VALUE>): *}\n   *     callback\n   * @param {THIS=} opt_thisArg\n   * @return {VALUE|undefined} The found value, or undefined.\n   * @template VALUE, THIS\n   * @suppress {reportUnknownTypes}\n   */\n  var polyfill = function(callback, opt_thisArg) {\n    return $jscomp.findInternal(this, callback, opt_thisArg).v;\n  };\n\n  return polyfill;\n}, 'es6', 'es3');\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Utilities for iterator-returning methods.\n */\n'require es6/symbol';\n\n\n/**\n * Creates an iterator from an array-like, with a transformation function.\n * @param {!IArrayLike<INPUT>} array\n * @param {function(number, INPUT): OUTPUT} transform\n * @return {!IteratorIterable<OUTPUT>}\n * @template INPUT, OUTPUT\n * @suppress {checkTypes|reportUnknownTypes}\n */\n$jscomp.iteratorFromArray = function(array, transform) {\n  $jscomp.initSymbolIterator();\n  // NOTE: IE8 doesn't support indexing from boxed Strings.\n  if (array instanceof String) array = array + '';\n  var i = 0;\n  var iter = {\n    next: function() {\n      if (i < array.length) {\n        var index = i++;\n        return {value: transform(index, array[index]), done: false};\n      }\n      iter.next = function() { return {done: true, value: void 0}; };\n      return iter.next();\n    }\n  };\n  iter[Symbol.iterator] = function() { return iter; };\n  return iter;\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require es6/util/iteratorfromarray';\n'require util/polyfill';\n\n$jscomp.polyfill('Array.prototype.keys', function(orig) {\n  if (orig) return orig;\n\n  /**\n   * Returns an iterator of keys of the given array.\n   *\n   * @this {!IArrayLike}\n   * @return {!IteratorIterable<number>}\n   */\n  var polyfill = function() {\n    return $jscomp.iteratorFromArray(this, function(i) { return i; });\n  };\n\n  return polyfill;\n}, 'es6', 'es3');\n","/*\n * Copyright 2017 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require util/owns';\n'require util/polyfill';\n\n$jscomp.polyfill('Object.values', function(orig) {\n  if (orig) return orig;\n\n  /**\n   * Returns an array of values from the given object.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/values\n   *\n   * @param {!IObject<KEY, VALUE>} obj\n   * @return {!Array<VALUE>}\n   * @template KEY, VALUE\n   */\n  var values = function(obj) {\n    var result = [];\n    for (var key in obj) {\n      if ($jscomp.owns(obj, key)) {\n        result.push(obj[key]);\n      }\n    }\n    return result;\n  };\n\n  return values;\n}, 'es8', 'es3');\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require es6/util/iteratorfromarray';\n'require util/polyfill';\n\n// NOTE: Although Array.prototype.values was added to the 2015 edition of the\n// spec, we consider it an \"ES8\" feature because many browsers which are\n// otherwise ES6-compatible, have not implemented it due to web compatibility\n// issues. See https://bugs.chromium.org/p/chromium/issues/detail?id=615873\n$jscomp.polyfill('Array.prototype.values', function(orig) {\n  if (orig) return orig;\n\n  /**\n   * Returns an iterator of values of the given array.\n   *\n   * @this {!IArrayLike<VALUE>}\n   * @return {!IteratorIterable<VALUE>}\n   * @template VALUE\n   * @suppress {reportUnknownTypes}\n   */\n  var polyfill = function() {\n    return $jscomp.iteratorFromArray(this, function(k, v) { return v; });\n  };\n\n  return polyfill;\n}, 'es8', 'es3');\n","/*\n * JGrapes Event Driven Framework\n * Copyright (C) 2016, 2018  Michael N. Lipp\n *\n * This program is free software; you can redistribute it and/or modify it \n * under the terms of the GNU Affero General Public License as published by \n * the Free Software Foundation; either version 3 of the License, or \n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful, but \n * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n * or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License \n * for more details.\n *\n * You should have received a copy of the GNU Affero General Public License along \n * with this program; if not, see <http://www.gnu.org/licenses/>.\n */\n\n'use strict';\n\n/**\n * JGPortal establishes a namespace for the JavaScript functions\n * that are provided by the portal.\n * \n * @namespace\n */\nvar JGPortal = {};\n\n(function () {\n\n    /**\n     * Easy access to logging.\n     * \n     * @memberof JGPortal\n     */\n    var log = {\n        debug: function(message) {\n            if (console && console.debug) {\n                console.debug(message)\n            }\n        },\n        info: function(message) {\n            if (console && console.info) {\n                console.info(message)\n            }\n        },\n        warn: function(message) {\n            if (console && console.warn) {\n                console.warn(message)\n            }\n        },\n        error: function(message) {\n            if (console && console.error) {\n                console.error(message)\n            }\n        }\n    }\n    JGPortal.log = log;\n\n    // ///////////////////\n    // WebSocket \"wrapper\"\n    // ///////////////////\n    \n    /**\n     * Defines a wrapper class for a web socket. An instance \n     * creates and maintains a connection to a session on the\n     * server, i.e. it reconnects automatically to the session\n     * when the connection is lost. The connection is used to\n     * exchange JSON RPC notifications.\n     */\n    class PortalWebSocket {\n        \n        constructor(portal) {\n            // \"Privacy by convention\" is sufficient for this.\n            this._debugHandler = false;\n            this._portal = portal;\n            this._ws = null;\n            this._sendQueue = [];\n            this._recvQueue = [];\n            this._recvQueueLocks = 0;\n            this._messageHandlers = {};\n            this._refreshTimer = null;\n            this._inactivity = 0;\n            this._reconnectTimer = null;\n            this._connectRequested = false;\n            this._initialConnect = true;\n            this._portalSessionId = null;\n            this._connectionLost = false;\n            this._oldPortalSessionId = sessionStorage.getItem(\"org.jgrapes.portal.base.sessionId\");\n        };\n\n        /**\n         * Returns the unique session id used to identify the connection.\n         * \n         * @return {string} the id\n         */\n        portalSessionId() {\n            return this._portalSessionId;\n        }\n        \n        _connect() {\n            let location = (window.location.protocol === \"https:\" ? \"wss\" : \"ws\") +\n                \"://\" + window.location.host + window.location.pathname;\n            if (!location.endsWith(\"/\")) {\n                location += \"/\";\n            }\n            this._portalSessionId = sessionStorage.getItem(\"org.jgrapes.portal.base.sessionId\");\n            location += \"portal-session/\" + this._portalSessionId;\n            if (this._oldPortalSessionId) {\n                location += \"?was=\" + this._oldPortalSessionId;\n                this._oldPortalSessionId = null;\n            }\n            log.debug(\"Creating WebSocket for \" + location);\n            this._ws = new WebSocket(location);\n            log.debug(\"Created WebSocket with readyState \" + this._ws.readyState);\n            let self = this;\n            this._ws.onopen = function() {\n                log.debug(\"OnOpen called for WebSocket.\");\n                if (self._connectionLost) {\n                    self._connectionLost = false;\n                    self._portal.connectionRestored();\n                }\n                self._drainSendQueue();\n                if (self._initialConnect) {\n                    self._initialConnect = false;\n                } else {\n                    // Make sure to get any lost updates\n                    let renderer = self._portal._renderer; \n                    renderer.findPreviewIds().forEach(function(id) {\n                        renderer.sendRenderPortlet(id, [\"Preview\"]);\n                    });\n                    renderer.findViewIds().forEach(function(id) {\n                        renderer.sendRenderPortlet(id, [\"View\"]);\n                    });\n                }\n                self._refreshTimer = setInterval(function() {\n                    if (self._sendQueue.length == 0) {\n                        self._inactivity += self._portal.sessionRefreshInterval;\n                        if (self._portal.sessionInactivityTimeout > 0 &&\n                                self._inactivity >= self._portal.sessionInactivityTimeout) {\n                            self.close();\n                            self._portal.connectionSuspended(function() {\n                                self.connect();\n                            });\n                            return;\n                        }\n                        self._send({\"jsonrpc\": \"2.0\", \"method\": \"keepAlive\",\n                            \"params\": []});\n                    }\n                }, self._portal.sessionRefreshInterval);\n            }\n            this._ws.onclose = function(event) {\n                log.debug(\"OnClose called for WebSocket (reconnect: \" +\n                        self._connectRequested + \").\");\n                if (self._refreshTimer !== null) {\n                    clearInterval(self._refreshTimer);\n                    self._refreshTimer = null;\n                }\n                if (self._connectRequested) {\n                    // Not an intended disconnect\n                    if (!self._connectionLost) {\n                        self._portal.connectionLost();\n                        self._connectionLost = true;\n                    }\n                    self._initiateReconnect();\n                }\n            }\n            // \"onClose\" is called even if the initial connection fails,\n            // so we don't need \"onError\".\n            // this._ws.onerror = function(event) {\n            // }\n            this._ws.onmessage = function(event) {\n                var msg;\n                try {\n                    msg = JSON.parse(event.data);\n                } catch (e) {\n                    log.error(e.name + \":\" + e.lineNumber + \":\" + e.columnNumber \n                            + \": \" + e.message + \". Data: \");\n                    log.error(event.data);\n                    return;\n                }\n                self._recvQueue.push(msg);\n                if (self._recvQueue.length === 1) {\n                    self._handleMessages();\n                }\n            }\n        }\n\n        /**\n         * Establishes the connection.\n         */\n        connect() {\n            this._connectRequested = true;\n            let self = this;\n            $(window).on('beforeunload', function(){\n                log.debug(\"Closing WebSocket due to page unload\");\n                // Internal connect, don't send disconnect\n                self._connectRequested = false;\n                self._ws.close();\n            });\n            this._connect();\n        } \n\n        /**\n         * Closes the connection.\n         */\n        close() {\n            if (this._portalSessionId) {\n                this._send({\"jsonrpc\": \"2.0\", \"method\": \"disconnect\",\n                    \"params\": [ this._portalSessionId ]});\n            }\n            this._connectRequested = false;\n            this._ws.close();\n        }\n\n        _initiateReconnect() {\n            if (!this._reconnectTimer) {\n                let self = this;\n                this._reconnectTimer = setTimeout(function() {\n                    self._reconnectTimer = null;\n                    self._connect();\n                }, 1000);\n            }\n        }\n    \n        _drainSendQueue() {\n            while (this._ws.readyState == this._ws.OPEN && this._sendQueue.length > 0) {\n                let msg = this._sendQueue[0];\n                try {\n                    this._ws.send(msg);\n                    this._sendQueue.shift();\n                } catch (e) {\n                    log.warn(e);\n                }\n            }\n        }\n    \n        _send(data) {\n            this._sendQueue.push(JSON.stringify(data));\n            this._drainSendQueue();\n        }\n\n        /**\n         * Convert the passed object to its JSON representation\n         * and sends it to the server. The object should represent\n         * a JSON RPC notification.\n         * \n         * @param  {Object} data the data\n         */\n        send(data) {\n            this._inactivity = 0;\n            this._send(data);\n        }\n\n        /**\n         * When a JSON RPC notification is received, its method property\n         * is matched against all added handlers. If a match is found,\n         * the associated handler function is invoked with the\n         * params values from the notification as parameters.\n         * \n         * @param {string} method the method property to match\n         * @param {function} handler the handler function\n         */\n        addMessageHandler(method, handler) {\n            this._messageHandlers[method] = handler;\n        }\n    \n        _handlerLog(msgSup) {\n            if(this._debugHandler) {\n                log.debug(msgSup());\n            }\n        }\n        \n        _handleMessages() {\n            while (true) {\n                if (this._recvQueueLocks > 0) {\n                    this._handlerLog(() => \"Handler receive queue locked.\");\n                    break;\n                }\n                if (this._recvQueue.length === 0) {\n                    this._handlerLog(() => \"Handler receive queue empty.\");\n                    break;\n                }\n                var message = this._recvQueue.shift(); \n                var handler = this._messageHandlers[message.method];\n                if (!handler) {\n                    log.error(\"No handler for invoked method \" + message.method);\n                    continue;\n                }\n                if (message.hasOwnProperty(\"params\")) {\n                    this._handlerLog(() => \"Handling: \" + message.method \n                            + \"[\" + message.params + \"]\");\n                    handler(...message.params);\n                } else {\n                    this._handlerLog(() => \"Handling: \" + message.method);\n                    handler();\n                }\n            }\n        }\n    \n        lockMessageReceiver() {\n            this._recvQueueLocks += 1;\n            if(this._debugHandler) {\n                try {\n                    throw new Error(\"Lock\");\n                } catch (exc) {\n                    log.debug(\"Locking receiver:\\n\" + exc.stack);\n                }\n            }\n        }\n\n        unlockMessageReceiver() {\n            this._recvQueueLocks -= 1;\n            if(this._debugHandler) {\n                try {\n                    throw new Error(\"Unlock\");\n                } catch (exc) {\n                    log.debug(\"Unlocking receiver:\\n\" + exc.stack);\n                }\n            }\n            if (this._recvQueueLocks == 0) {\n                this._handleMessages();\n            }\n        }\n    }\n\n    class ResourceManager {\n\n        constructor(portal) {\n            this._portal = portal;\n            this._debugLoading = false;\n            this._providedScriptResources = new Set(); // Names, i.e. strings\n            this._unresolvedScriptRequests = []; // ScriptResource objects\n            this._loadingScripts = new Set(); // uris (src attribute)\n            this._unlockMessageQueueAfterLoad = false;\n            this._loadingTimeoutHandler = null;\n            this._scriptResourceSnippet = 0;\n        }\n        \n        _loadingMsg(msg) {\n            if (this._debugLoading) {\n                log.debug(moment().format(\"HH:mm:ss.SSS\") + \": \" + msg());\n            }\n        }\n        \n        _mayBeStartScriptLoad (scriptResource) {\n            let self = this;\n            if (self._debugLoading) {\n                if (scriptResource.provides.length > 0) {\n                    scriptResource.id = scriptResource.provides.join(\"/\");\n                } else if (scriptResource.uri) {\n                    scriptResource.id = scriptResource.uri;\n                } else {\n                    scriptResource.id = \"Snippet_\" + ++this._scriptResourceSnippet;\n                }\n            }\n            let stillRequired = scriptResource.requires;\n            scriptResource.requires = [];\n            stillRequired.forEach(function(required) {\n                if (!self._providedScriptResources.has(required)) {\n                    scriptResource.requires.push(required);\n                }\n            });\n            if (scriptResource.requires.length > 0) {\n                self._loadingMsg(function() { return \"Not (yet) loading: \" + scriptResource.id\n                            + \", missing: \" + scriptResource.requires.join(\", \") });\n                self._unresolvedScriptRequests.push(scriptResource);\n                return;\n            }\n            this._startScriptLoad(scriptResource);\n        }\n        \n        _startScriptLoad(scriptResource) {\n            let self = this;\n            let head = $(\"head\").get()[0];\n            let script = document.createElement(\"script\");\n            if (scriptResource.id) {\n                script.setAttribute(\"id\", scriptResource.id);\n            }\n            if (scriptResource.type) {\n                script.setAttribute(\"type\", scriptResource.type);\n            }\n            if (scriptResource.source) {\n                // Script source is part of request, add and proceed as if loaded.\n                script.text = scriptResource.source;\n                head.appendChild(script);\n                self._scriptResourceLoaded(scriptResource);\n                return;\n            }\n            // Asynchronous loading.\n            script.src = scriptResource.uri;\n            script.addEventListener('load', function(event) {\n                // Remove this from loading\n                self._loadingScripts.delete(script.src);\n                self._scriptResourceLoaded(scriptResource);\n            });\n            // Put on script load queue to indicate load in progress\n            self._loadingMsg(function() { return \"Loading: \" + scriptResource.id });\n            self._loadingScripts.add(script.src);\n            if (this._loadingTimeoutHandler === null) {\n                this._loadingTimeoutHandler = setInterval(\n                        function() {\n                            log.warn(\"Still waiting for: \"\n                                    + Array.from(self._loadingScripts).join(\", \"));\n                        }, 5000)\n            }\n            head.appendChild(script);\n        }\n\n        _scriptResourceLoaded(scriptResource) {\n            let self = this;\n            // Whatever it provides is now provided\n            this._loadingMsg(function() { return \"Loaded: \" + scriptResource.id });\n            scriptResource.provides.forEach(function(res) {\n                self._providedScriptResources.add(res);\n            });\n            // Re-evaluate\n            let nowProvided = new Set(scriptResource.provides);\n            let stillUnresolved = self._unresolvedScriptRequests;\n            self._unresolvedScriptRequests = [];\n            stillUnresolved.forEach(function(reqRes) {\n                // Still required by this unresolved resource\n                let stillRequired = reqRes.requires;\n                reqRes.requires = []; // Accumulates new value\n                stillRequired.forEach(function(required) {\n                    if (!nowProvided.has(required)) {\n                        // Not in newly provided, still required\n                        reqRes.requires.push(required);\n                    }\n                });\n                if (reqRes.requires.length == 0) {\n                    self._startScriptLoad(reqRes);\n                } else {\n                    // Back to still unresolved\n                    self._unresolvedScriptRequests.push(reqRes);\n                }\n            });\n            // All done?\n            if (self._loadingScripts.size == 0) {\n                if (this._loadingTimeoutHandler !== null) {\n                    clearInterval(this._loadingTimeoutHandler);\n                    this._loadingTimeoutHandler = null;\n                }\n                if(self._unlockMessageQueueAfterLoad) {\n                    self._loadingMsg(function() { return \"All loaded, unlocking message queue.\" });\n                    self._portal.unlockMessageQueue();\n                }\n            }\n        }\n        \n        addPageResources(cssUris, cssSource, scriptResources) {\n            for (let index in cssUris) {\n                let uri = cssUris[index];\n                if ($(\"head > link[href='\" + uri + \"']\").length === 0) {\n                    $(\"head link[rel='stylesheet']:last\").after(\"<link rel='stylesheet' href='\" + uri + \"'>\");\n                }\n            }\n            if (cssSource) {\n                let style = $(\"style\");\n                style.text(cssSource);\n                $(\"head link[rel='stylesheet']:last\").after(style);\n            }\n            // Don't use jquery, https://stackoverflow.com/questions/610995/cant-append-script-element\n            for (let index in scriptResources) {\n                let scriptResource = scriptResources[index];\n                if (scriptResource.uri) {\n                    if ($(\"head > script[src='\" + scriptResource.uri + \"']\").length > 0) {\n                        continue;\n                    }\n                }\n                this._mayBeStartScriptLoad(scriptResource);\n            }\n        }\n        \n        lockWhileLoading() {\n            if (this._loadingScripts.size > 0 && !this._unlockMessageQueueAfterLoad) {\n                this._portal.lockMessageQueue();\n                this._loadingMsg(function() { return \"Locking message queue until all loaded.\" });\n                this._unlockMessageQueueAfterLoad = true;\n            }\n        }\n    }\n    \n    /**\n     * The renderer.\n     */\n    JGPortal.Renderer = class {\n        \n        init() {\n        }\n        \n        connectionLost() {\n            log.warn(\"Not implemented!\");\n        }\n        \n        connectionRestored() {\n            log.warn(\"Not implemented!\");\n        }\n\n        connectionSuspended(resume) {\n            log.warn(\"Not implemented!\");\n        }\n        \n        portalConfigured() {\n            log.warn(\"Not implemented!\");\n        }\n        \n        addPortletType(portletType, displayName, renderModes) {\n            log.warn(\"Not implemented!\");\n        }\n        \n        lastPortalLayout(previewLayout, tabsLayout, xtraInfo) {\n            log.warn(\"Not implemented!\");\n        }\n        \n        updatePortletPreview(isNew, container, modes, content, foreground) {\n            log.warn(\"Not implemented!\");\n        }\n        \n        updatePortletView(isNew, container, modes, content, foreground) {\n            log.warn(\"Not implemented!\");\n        }\n\n        portletRemoved(containers) {\n            log.warn(\"Not implemented!\");\n        }\n        \n        /**\n         * Update the title of the portlet with the given id.\n         *\n         * @param {string} portletId the portlet id\n         * @param {string} title the new title\n         */\n        updatePortletTitle(portletId, title) {\n            log.warn(\"Not implemented!\");\n        }\n\n        /**\n         * Update the modes of the portlet with the given id.\n         * \n         * @param {string} portletId the portlet id\n         * @param {string[]} modes the modes\n         */\n        updatePortletModes(portletId, modes) {\n            log.warn(\"Not implemented!\");\n        }\n        \n        showEditDialog(container, modes, content) {\n            log.warn(\"Not implemented!\");\n        }\n        \n        notification(content, options) {\n            log.warn(\"Not implemented!\");\n        }\n        \n        // Send methods\n\n        /**\n         * Sends a notification for changing the language to the server.\n         * \n         * @param {string} locale the id of the selected locale\n         */\n        sendSetLocale(locale) {\n            thePortal.send(\"setLocale\", locale);\n        };\n\n        /**\n         * Sends a notification that requests the rendering of a portlet.\n         * \n         * @param {string} portletId the portlet id\n         * @param {string} modes the requested render mode(s)\n         */\n        sendRenderPortlet(portletId, modes) {\n            thePortal.send(\"renderPortlet\", portletId, modes);\n        };\n\n        /**\n         * Sends a notification that requests the addition of a portlet.\n         * \n         * @param {string} portletType the type of the portlet to add\n         */\n        sendAddPortlet(portletType, renderModes) {\n            thePortal.send(\"addPortlet\", portletType, renderModes);\n        };\n\n        /**\n         * Send a notification that request the removal of a portlet.\n         * \n         * @param {string} portletId the id of the portlet to be deleted\n         */\n        sendDeletePortlet(portletId) {\n            thePortal.send(\"deletePortlet\", portletId);\n        };\n\n        sendLayout(previewLayout, tabLayout, xtraInfo) {\n            if (!thePortal.isConfigured) {\n                return;\n            }\n            thePortal.send(\"portalLayout\", previewLayout, tabLayout, xtraInfo);\n        };\n\n        send(method, ...params) {\n            thePortal.send(method, ...params);\n        };\n        \n        // Utility methods.\n\n        /**\n         * Find the <code>div</code>s that display the preview or view of the\n         * portlet with the given id.\n         * \n         * @param {string} portletId the portlet id\n         */\n        findPortletRepresentations(portletId) {\n            return $( \".portlet[data-portlet-id='\" + portletId + \"']\" ).get();\n        };\n\n        /**\n         * Find the <code>div</code> that displays the preview of the\n         * portlet with the given id.\n         * \n         * @param {string} portletId the portlet id\n         */\n        findPortletPreview(portletId) {\n            let matches = $( \".portlet-preview[data-portlet-id='\" + portletId + \"']\" );\n            if (matches.length === 1) {\n                return $( matches[0] );\n            }\n            return null;\n        };\n\n        findPreviewIds() {\n            let ids = $( \".portlet-preview[data-portlet-id]\" ).map(function() {\n                return $( this ).attr(\"data-portlet-id\");\n            }).get();\n            return ids;\n        }\n        \n        /**\n         * Find the <code>div</code> that displays the view of the\n         * portlet with the given id.\n         * \n         * @param {string} portletId the portlet id\n         */\n        findPortletView(portletId) {\n            let matches = $( \".portlet-view[data-portlet-id='\" + portletId + \"']\" );\n            if (matches.length === 1) {\n                return $( matches[0] );\n            }\n            return null;\n        };\n\n        findViewIds() {\n            let ids = $( \".portlet-view[data-portlet-id]\" ).map(function() {\n                return $( this ).attr(\"data-portlet-id\");\n            }).get();\n            return ids;\n        }\n        \n        /**\n         * Utility method to format a memory size to a maximum\n         * of 4 digits for the integer part by appending the\n         * appropriate unit.\n         * \n         * @param {integer} size the size value to format\n         * @param {integer} digits the number of digits of the factional part\n         * @param {string} lang the language (BCP 47 code, \n         * used to determine the delimiter)\n         */\n        formatMemorySize(size, digits, lang) {\n            if (lang === undefined) {\n                lang = digits;\n                digits = -1;\n            }\n            let scale = 0;\n            while (size > 10000 && scale < 5) {\n                    size = size / 1024;\n                    scale += 1;\n            }\n            let unit = \"PiB\";\n            switch (scale) {\n            case 0:\n                unit = \"B\";\n                break;\n            case 1:\n                unit = \"kiB\";\n                break;\n            case 2:\n                unit = \"MiB\";\n                break;\n            case 3:\n                unit = \"GiB\";\n                break;\n            case 4:\n                unit = \"TiB\";\n                break;\n            default:\n                break;\n            }\n            if (digits >= 0) {\n                return new Intl.NumberFormat(lang, {\n                    minimumFractionDigits: digits,\n                    maximumFractionDigits: digits\n                }).format(size) + \" \" + unit;\n            }\n            return new Intl.NumberFormat(lang).format(size) + \" \" + unit;\n        }\n        \n    }\n    \n    /**\n     * Provides portal related methods. A singleton is automatically\n     * created. Selected methods are made available in the JGPortal\n     * namespace.\n     */\n    class Portal {\n        \n        constructor() {\n            let self = this;\n            this._isConfigured = false;\n            this._sessionRefreshInterval = 0;\n            this._sessionInactivityTimeout = 0;\n            this._renderer = null;\n            this._webSocket = new PortalWebSocket(this);\n            this._portletFunctionRegistry = {};\n            this._previewTemplate = $('<section class=\"portlet portlet-preview\"></section>');\n            this._viewTemplate = $( '<article class=\"portlet portlet-view\"></article>');\n            this._editTemplate = $( '<div class=\"portlet portlet-edit\"></div>');\n            this._resourceManager = new ResourceManager(this);\n            this._webSocket.addMessageHandler('addPageResources', \n                    function(cssUris, cssSource, scriptResources) {\n                self._resourceManager.addPageResources(cssUris, cssSource, scriptResources);\n            });\n            this._webSocket.addMessageHandler('addPortletType',\n                    function (portletType, displayName, cssUris, scriptResources,\n                            renderModes) {\n                self._resourceManager.addPageResources(cssUris, null, scriptResources);\n                self._renderer.addPortletType(portletType, displayName, renderModes);\n            });\n            this._webSocket.addMessageHandler('lastPortalLayout',\n                    function(previewLayout, tabsLayout, xtraInfo) {\n                // Should we wait with further actions?\n                self._resourceManager.lockWhileLoading();\n                self._renderer.lastPortalLayout(previewLayout, tabsLayout, xtraInfo);\n            });\n            this._webSocket.addMessageHandler('notifyPortletView',\n                    function notifyPortletView(portletClass, portletId, method, params) {\n                let classRegistry = self._portletFunctionRegistry[portletClass];\n                if (classRegistry) {\n                    let f = classRegistry[method];\n                    if (f) {\n                        f(portletId, params);\n                    }\n                }\n            });\n            this._webSocket.addMessageHandler('portalConfigured',\n                    function portalConfigured() {\n                self._isConfigured = true;\n                self._renderer.portalConfigured();\n            });\n            this._webSocket.addMessageHandler('updatePortlet',\n                    function(portletId, mode, modes, content, foreground) {\n                if (mode === \"Preview\" || mode === \"DeleteablePreview\") {\n                    self._updatePreview(portletId, modes, mode, content, foreground);\n                } else if (mode === \"View\") {\n                    self._updateView(portletId, modes, content, foreground);\n                } else if (mode === \"Edit\") {\n                    let container = self._editTemplate.clone();\n                    container.attr(\"data-portlet-id\", portletId);\n                    self._renderer.showEditDialog(container, modes, content);\n                    self._execOnLoad(container);\n                }\n            });\n            this._webSocket.addMessageHandler('deletePortlet',\n                    function deletePortlet(portletId) {\n                let portletDisplays = self._renderer.findPortletRepresentations(portletId);\n                if (portletDisplays.length > 0) {\n                    self._renderer.portletRemoved(portletDisplays);\n                }\n            });\n            this._webSocket.addMessageHandler('displayNotification',\n                    function (content, options) {\n                self._renderer.notification(content, options);\n            });\n            this._webSocket.addMessageHandler('retrieveLocalData',\n                    function retrieveLocalData(path) {\n                let result = [];\n                try {\n                    for(let i = 0; i < localStorage.length; i++) {\n                        let key = localStorage.key(i);\n                        if (!path.endsWith(\"/\")) {\n                            if (key !== path) {\n                                continue;\n                            }\n                        } else {\n                            if (!key.startsWith(path)) {\n                                continue;\n                            }\n                        }\n                        let value = localStorage.getItem(key);\n                        result.push([ key, value ])\n                    }\n                } catch (e) {\n                    log.error(e);\n                }\n                self._webSocket.send({\"jsonrpc\": \"2.0\", \"method\": \"retrievedLocalData\",\n                    \"params\": [ result ]});\n            });\n            this._webSocket.addMessageHandler('storeLocalData',\n                    function storeLocalData(actions) {\n                try {\n                    for (let i in actions) {\n                        let action = actions[i];\n                        if (action[0] === \"u\") {\n                            localStorage.setItem(action[1], action[2]);\n                        } else if (action[0] === \"d\") {\n                            localStorage.removeItem(action[1]);\n                        }\n                    }\n                } catch (e) {\n                    log.error(e);\n                }\n            });\n            this._webSocket.addMessageHandler('reload',\n                    function() { \n                window.location.reload(true);\n            });\n        }\n\n        init(portalSessionId, refreshInterval, inactivityTimeout, renderer) {\n            sessionStorage.setItem(\"org.jgrapes.portal.base.sessionId\", portalSessionId);\n            this._sessionRefreshInterval = refreshInterval;\n            this._sessionInactivityTimeout = inactivityTimeout;\n            this._renderer = renderer;\n            JGPortal.renderer = renderer;\n            \n            // Everything set up, can connect web socket now.\n            this._webSocket.connect();\n\n            // More initialization.\n            this._renderer.init();\n            \n            // With everything prepared, send portal ready\n            this.send(\"portalReady\");\n        }\n\n        get isConfigured() {\n            return this._isConfigured;\n        }\n        \n        get sessionRefreshInterval() {\n            return this._sessionRefreshInterval;\n        }\n        \n        get sessionInactivityTimeout() {\n            return this._sessionInactivityTimeout;\n        }\n        \n        get renderer() {\n            return this._renderer;\n        }\n        \n        connectionLost() {\n            this._renderer.connectionLost();\n        }\n        \n        connectionRestored() {\n            this._renderer.connectionRestored();\n        }\n\n        connectionSuspended(resume) {\n            this._renderer.connectionSuspended(resume);\n        }\n        \n        /**\n         * Increases the lock count on the receiver. As long as\n         * the lock count is greater than 0, the invocation of\n         * handlers is suspended.\n         */\n        lockMessageQueue() {\n            this._webSocket.lockMessageReceiver();\n        }\n        \n        /**\n         * Decreases the lock count on the receiver. When the\n         * count reaches 0, the invocation of handlers is resumed.\n         */\n        unlockMessageQueue() {\n            this._webSocket.unlockMessageReceiver();\n        }\n\n        // Portlet management\n        \n        _execOnLoad(container) {\n            container.find(\"[data-on-load]\").each(function() {\n                let onLoad = $(this).data(\"onLoad\");\n                let segs = onLoad.split(\".\");\n                let obj = window;\n                while (obj && segs.length > 0) {\n                    obj = obj[segs.shift()];\n                }\n                if (obj && typeof obj === \"function\") {\n                    obj.apply(null, [ $(this) ]);\n                }\n            });\n        }\n\n        _updatePreview(portletId, modes, mode, content, foreground) {\n            let container = this._renderer.findPortletPreview(portletId);\n            let isNew = !container;\n            if (isNew) {\n                container = this._previewTemplate.clone();\n                container.attr(\"data-portlet-id\", portletId);\n            }\n            if (mode === \"DeleteablePreview\") {\n                container.addClass('portlet-deleteable')\n            } else {\n                container.removeClass('portlet-deleteable')\n            }\n            this._renderer.updatePortletPreview(isNew, container, modes, \n                    content, foreground);\n            this._execOnLoad(container);\n        };\n        \n        _updateView(portletId, modes, content, foreground) {\n            let container = this._renderer.findPortletView(portletId);\n            let isNew = !container;\n            if (isNew) {\n                container = this._viewTemplate.clone();\n                container.attr(\"data-portlet-id\", portletId);\n            }\n            this._renderer.updatePortletView(isNew, container, modes, \n                    content, foreground);\n            this._execOnLoad(container);\n        };\n        \n        /**\n         * Registers a portlet method that to be invoked if a\n         * JSON RPC notification with method <code>notifyPortletView</code>\n         * is received.\n         * \n         * @param {string} portletClass the portlet type for which\n         * the method is registered\n         * @param {string} methodName the method that is registered\n         * @param {function} method the function to invoke\n         */\n        registerPortletMethod(portletClass, methodName, method) {\n            let classRegistry = this._portletFunctionRegistry[portletClass];\n            if (!classRegistry) {\n                classRegistry = {};\n                this._portletFunctionRegistry[portletClass] = classRegistry;\n            }\n            classRegistry[methodName] = method;\n        }\n\n        // Send methods\n        \n        send(method, ...params) {\n            if (params.length > 0) {\n                this._webSocket.send({\"jsonrpc\": \"2.0\", \"method\": method,\n                    \"params\": params});   \n            } else {\n                this._webSocket.send({\"jsonrpc\": \"2.0\", \"method\": method});\n            }\n        }\n        \n        /**\n         * Send a notification with method <code>notifyPortletModel</code>\n         * and the given portlet id, method and parameters as the \n         * notification's parameters to the server.\n         * \n         * @param {string} portletId the id of the portlet to send to\n         * @param {string} method the method to invoke\n         * @param params the parameters to send\n         */\n        notifyPortletModel(portletId, method, ...params) {\n            if (params === undefined) {\n                thePortal.send(\"notifyPortletModel\", portletId, method);\n            } else {\n                thePortal.send(\"notifyPortletModel\", portletId, method, params);\n            }\n        };\n        \n        // Utility methods\n        \n        // https://gist.github.com/jed/982883\n        generateUUID() {\n            var r = crypto.getRandomValues(new Uint8Array(16));\n            r[6] = r[6] & 0x0f | 0x40;\n            r[8] = r[8] & 0x3f | 0x80;\n            return (r[0].toString(16) + r[1].toString(16) +\n                r[2].toString(16) + r[3].toString(16) +\n                \"-\" + r[4].toString(16) + r[5].toString(16) +\n                \"-\" + r[6].toString(16) + r[7].toString(16) +\n                \"-\" + r[8].toString(16) + r[9].toString(16) +\n                \"-\" + r[0].toString(10) + r[0].toString(11) +\n                r[0].toString(12) + r[0].toString(13) +\n                r[0].toString(14) + r[0].toString(15));\n        };\n        \n    }\n    \n    var thePortal = new Portal();\n    \n    /**\n     * Initialize the portal singleton.\n     * \n     * @memberof JGPortal\n     */\n    JGPortal.init = function(...params) {\n        thePortal.init(...params);\n    }\n    \n    /**\n     * @memberof JGPortal\n     */\n    JGPortal.registerPortletMethod = function(...params) {\n        thePortal.registerPortletMethod(...params);\n    }\n    \n    /**\n     * @memberof JGPortal\n     */\n    JGPortal.notifyPortletModel = function(...params) {\n        return thePortal.notifyPortletModel(...params);\n    }\n    \n    /**\n     * @memberof JGPortal\n     */\n    JGPortal.lockMessageQueue = function(...params) {\n        thePortal.lockMessageQueue(...params);\n    }\n    \n    /**\n     * @memberof JGPortal\n     */\n    JGPortal.unlockMessageQueue = function(...params) {\n        thePortal.unlockMessageQueue(...params);\n    }\n    \n    /**\n     * @memberof JGPortal\n     */\n    JGPortal.findPortletPreview = function(...params) {\n        return thePortal.renderer.findPortletPreview(...params);\n    }\n    \n    /**\n     * @memberof JGPortal\n     */\n    JGPortal.findPortletView = function(...params) {\n        return thePortal.renderer.findPortletView(...params);\n    }\n    \n    /**\n     * @memberof JGPortal\n     */\n    JGPortal.createIfMissing = function(node, key, supplier) {\n        let data = node.data(key);\n        if (data) {\n            return data;\n        }\n        data = supplier();\n        node.data(key, data);\n        return data;\n    }\n    \n    /**\n     * A generic controller for tables. It provides information about\n     * the available columns and maintains state regarding their\n     * sort order and direction. In addition, it supports simple\n     * filtering based on cell content.\n     */\n    JGPortal.TableController = class {\n        \n        constructor(columns, options) {\n            this.keys = [];\n            this.labelsByKey = {};\n            for (let i in columns) {\n                this.keys.push(columns[i][0]);\n                this.labelsByKey[columns[i][0]] = columns[i][1];\n            }\n            this.sortKey = '';\n            this.sortOrders = {};\n            for (let i in this.keys) {\n                this.sortOrders[this.keys[i]] = 1;\n            }\n            this.filterKey = '';\n            if (options) {\n                if (\"sortKey\" in options) {\n                    this.sortBy(options.sortKey);\n                }\n                if (\"sortOrder\" in options) {\n                    this.sortBy(this.sortKey, options.sortOrder);\n                }\n            }\n        }\n        \n        label(key) {\n            return this.labelsByKey[key];\n        }\n        \n        sortOrder(key) {\n            return this.sortOrders[key];\n        }\n        \n        sortBy(key, order) {\n            if (this.sortKey != key) {\n                this.sortKey = key;\n            }\n            else {\n                this.sortOrders[key] = this.sortOrders[key] * -1;\n            }\n            if (typeof order !== 'undefined') {\n                if (order === 'up') {\n                    this.sortOrders[key] = 1;\n                }\n                if (order === 'down') {\n                    this.sortOrders[key] = -1;\n                }\n            }\n        }\n        \n        sortedByAsc(key) {\n            return this.sortKey == key && this.sortOrders[key] == 1;\n        }\n        \n        sortedByDesc(key) {\n            return this.sortKey == key && this.sortOrders[key] == -1;\n        }\n        \n        filter(data) {\n            let filterKey = this.filterKey && this.filterKey.toLowerCase();\n            if (filterKey) {\n                data = data.filter(function(item) {\n                    return Object.values(item).some(function(value) {\n                        return String(value).toLowerCase().indexOf(filterKey) > -1;\n                    });\n                });\n            }\n            if (this.sortKey) {\n                let sortKey = this.sortKey;\n                let order = this.sortOrders[sortKey];\n                data = data.sort(function(a, b) {\n                    a = a[sortKey];\n                    b = b[sortKey];\n                    return (a === b ? 0 : a > b ? 1 : -1) * order;\n                });\n            }\n            return data;\n        }\n        \n        filterBy(filter) {\n            this.filterKey = filter;\n        }\n        \n        updateFilter(event) {\n            this.filterKey = $(event.target).val();\n        }\n        \n        clearFilter(event) {\n            let form = $(event.target).closest(\"form\");\n            let input = form.find(\"input\");\n            input.val('');\n            this.filterKey = '';\n        }\n        \n        breakBeforeDots(text) {\n            return String(text).replace(/\\./g, \"&#x200b;.\");\n        }\n    }\n\n    /**\n     * Helps to manage options. The main addition to simply using\n     * a Set are the toggle functions and the support for temporarily\n     * disabling an option.\n     */\n    JGPortal.OptionsSet = class {\n\n        /**\n         * Creates a new option set.\n         */\n        constructor() {\n            this.enabled = new Map();\n            this.disabled = new Map();\n        }\n\n        /**\n         * Sets the option with the associated value.\n         * \n         * @param {string} name - the option's name\n         * @param {string} value - the option's value\n         */\n        set(name, value) {\n            this.enabled.set(name, value);\n            this.disabled.delete(name);\n        }\n        \n        /**\n         * Returns the value of the given name.\n         * \n         * @param {string} name - the option's name\n         */\n        get(name) {\n            return this.enabled.get(name);\n        }\n\n        /**\n         * Returns the names of all enabled options.\n         */\n        getEnabled() {\n            return this.enabled.keys();\n        }\n        \n        /**\n         * Returns the names of all disabled options.\n         */\n        getDisabled() {\n            return this.disabled.keys();\n        }\n\n        /**\n         * Returns the names of all options.\n         */\n        getAll() {\n            return (new Set([...this.enabled.keys(), ...this.disabled.keys()]))\n                .values();\n        }\n        \n        /**\n         * Clears the option set.\n         */\n        clear() {\n            this.enabled.clear();\n            this.disabled.clear();\n        }\n        \n        /**\n         * Deletes the option with the given name.\n         * \n         * @param {string} name - the option's name\n         */\n        delete(name) {\n            this.enabled.delete(name);\n            this.disabled.delete(name);\n        }\n\n        /**\n         * Disables the option with the given name. The option\n         * and its value are kept and can be re-enabled.\n         * \n         * @param {string} name - the option's name\n         */\n        disable(name) {\n            if (this.enabled.has(name)) {\n                this.disabled.set(name, this.enabled.get(name));\n                this.enabled.delete(name);\n            }\n        }\n        \n        /**\n         * Re-enables the option with the given name.\n         * \n         * @param {string} name - the option's name\n         */\n        enable(name) {\n            if (this.disabled.has(name)) {\n                this.enabled.set(name, this.disabled.get(name));\n                this.disabled.delete(name);\n            }\n        }\n        \n        /**\n         * Toggles the option with the given name, i.e. enables\n         * it if it is disabled and disables it if it is enabled.\n         * \n         * @param {string} name - the option's name\n         */\n        toggleEnabled(name) {\n            if (this.enabled.has(name)) {\n                this.disable(name);\n            } else {\n                this.enable(name);\n            }\n        }\n        \n        /**\n         * Sets the option with the given name if it is not\n         * set and deletes it if it is enabled.\n         * \n         * @param {string} name - the option's name\n         * @param {string} value - the option's value\n         */\n        toggleIsSet(name, value) {\n            if (this.enabled.has(name)) {\n                this.enabled.delete(name);\n            } else {\n                this.enabled.set(name, value);\n            }\n        }\n    }\n\n})();\n"],
"names":["JGPortal","log","debug","message","console","info","warn","error","PortalWebSocket","constructor","portal","_debugHandler","_portal","_ws","_sendQueue","_recvQueue","_recvQueueLocks","_messageHandlers","_refreshTimer","_inactivity","_reconnectTimer","_connectRequested","_initialConnect","_portalSessionId","_connectionLost","_oldPortalSessionId","sessionStorage","getItem","portalSessionId","_connect","location","window","protocol","host","pathname","endsWith","WebSocket","readyState","self","onopen","this._ws.onopen","connectionRestored","_drainSendQueue","renderer","_renderer","findPreviewIds","forEach","id","sendRenderPortlet","findViewIds","setInterval","length","sessionRefreshInterval","sessionInactivityTimeout","close","connectionSuspended","connect","_send","onclose","this._ws.onclose","event","clearInterval","connectionLost","_initiateReconnect","onmessage","this._ws.onmessage","msg","JSON","parse","data","e","name","lineNumber","columnNumber","push","_handleMessages","$","on","setTimeout","OPEN","send","shift","stringify","addMessageHandler","method","handler","_handlerLog","msgSup","hasOwnProperty","params","lockMessageReceiver","Error","exc","stack","unlockMessageReceiver","ResourceManager","_debugLoading","_providedScriptResources","Set","_unresolvedScriptRequests","_loadingScripts","_unlockMessageQueueAfterLoad","_loadingTimeoutHandler","_scriptResourceSnippet","_loadingMsg","moment","format","_mayBeStartScriptLoad","scriptResource","provides","join","uri","stillRequired","requires","required","has","_startScriptLoad","head","get","script","document","createElement","setAttribute","type","source","text","appendChild","_scriptResourceLoaded","src","addEventListener","delete","add","Array","from","res","nowProvided","stillUnresolved","reqRes","size","unlockMessageQueue","addPageResources","cssUris","cssSource","scriptResources","index","after","style","lockWhileLoading","lockMessageQueue","Renderer","init","resume","portalConfigured","addPortletType","portletType","displayName","renderModes","lastPortalLayout","previewLayout","tabsLayout","xtraInfo","updatePortletPreview","isNew","container","modes","content","foreground","updatePortletView","portletRemoved","containers","updatePortletTitle","portletId","title","updatePortletModes","showEditDialog","notification","options","sendSetLocale","locale","thePortal","sendAddPortlet","sendDeletePortlet","sendLayout","tabLayout","isConfigured","findPortletRepresentations","findPortletPreview","matches","map","attr","ids","findPortletView","formatMemorySize","digits","lang","undefined","scale","unit","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","Portal","_isConfigured","_sessionInactivityTimeout","_sessionRefreshInterval","_webSocket","_portletFunctionRegistry","_previewTemplate","_viewTemplate","_editTemplate","_resourceManager","notifyPortletView","portletClass","classRegistry","f","mode","_updatePreview","_updateView","clone","_execOnLoad","deletePortlet","portletDisplays","retrieveLocalData","path","result","i","localStorage","key","startsWith","value","storeLocalData","actions","action","setItem","removeItem","reload","refreshInterval","inactivityTimeout","find","each","segs","onLoad","split","obj","apply","addClass","removeClass","registerPortletMethod","methodName","notifyPortletModel","generateUUID","r","crypto","getRandomValues","Uint8Array","toString","JGPortal.init","JGPortal.registerPortletMethod","JGPortal.notifyPortletModel","JGPortal.lockMessageQueue","JGPortal.unlockMessageQueue","JGPortal.findPortletPreview","JGPortal.findPortletView","createIfMissing","JGPortal.createIfMissing","node","supplier","TableController","columns","keys","labelsByKey","sortKey","sortOrders","filterKey","sortBy","sortOrder","label","order","sortedByAsc","sortedByDesc","filter","toLowerCase","item","Object","values","some","String","indexOf","sort","a","b","filterBy","updateFilter","target","val","clearFilter","closest","form","input","breakBeforeDots","replace","OptionsSet","enabled","Map","disabled","set","getEnabled","getDisabled","getAll","clear","disable","enable","toggleEnabled","toggleIsSet"]
}
